(window.webpackJsonp=window.webpackJsonp||[]).push([[330],{"3ukl":function(e,t,n){"use strict";n.r(t);var a=n("ezF+"),o=n("EIk2"),r=n("ERkP");const i=Object.freeze({Compact:"Compact",Normal:"Normal",Large:"Large",ThumbsUpAndDown:"ThumbsUpAndDown"});var l=n("Irs7"),c=n("MWbm"),s=n("PbQQ"),p=n("/yvb"),m=n("t62R"),d=n("rHpw"),u=n("IMYl"),b=n("hOZg");const y=d.a.create((e=>({button:{margin:"1ex"},buttonContainer:{display:"grid",gridTemplateColumns:"repeat(2,1fr)"},secondHalf:{width:"50%",display:"grid",justifyContent:"end"},firstHalf:{width:"50%",flexDirection:"column",justifyContent:"center"},root:{flexDirection:"row",justifyContent:"space-between"},promptContainer:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical,borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small},survey:{display:"flex",borderRadius:e.spaces.space8,padding:e.spaces.space12,backgroundColor:e.colors.orange0,alignItems:"center",minHeight:e.spaces.space64},icon:{marginLeft:e.spaces.space12}})));var v=e=>{const{confirmation:t,displayType:n,isRelevantIcon:a,isRelevantOnClick:o,isRelevantText:d,notRelevantIcon:v,notRelevantOnClick:R,notRelevantText:f,onIsRelevant:C,showConfirmation:E,title:I}=e,g=Object(l.b)(),h=n===i.ThumbsUpAndDown,k=h,w=s.b.useOpaqueIdentifier(),T=()=>{g.scribe({element:"is_relevant",action:"click"}),C&&C(),o()},O=()=>{g.scribe({element:"not_relevant",action:"click"}),R()},L=e=>"IconCheckmark"===e?r.createElement(u.a,null):"IconClose"===e?r.createElement(b.a,null):void 0,x=(e,t,n)=>r.createElement(p.a,{accessibilityLabel:t,icon:n?L(n):void 0,onPress:e,size:n?"medium":"xSmall",style:n?y.icon:y.button,type:h?"primaryOutlined":"brandFilled"},n?null:t);return r.createElement(c.a,{accessibilityLabelledBy:w,accessibilityRole:"group",style:y.promptContainer},E?r.createElement(c.a,{accessibilityRole:"alert"},r.createElement(m.b,{style:h&&y.survey},t)):r.createElement(c.a,{style:[y.root,h&&y.survey]},r.createElement(c.a,{style:y.firstHalf},r.createElement(m.b,{nativeID:w},I)),r.createElement(c.a,{style:y.secondHalf},r.createElement(c.a,{style:y.buttonContainer},k?r.createElement(r.Fragment,null,x(T,d,a),x(O,f,v)):r.createElement(r.Fragment,null,x(O,f,v),x(T,d,a))))))},R=n("zh9S"),f=n("Rp9C"),C=n("pbku"),E=n("0KEI");const I=(e,t)=>{if(e&&e===i.ThumbsUpAndDown)return t?"IconCheckmark":"IconClose"},g=a.g({component:v,bindActions:({module:e})=>({createLocalApiErrorHandler:Object(E.createLocalApiErrorHandlerWithContextFactory)("RELEVANCE_PROMPT"),scribe:R.c,processCallback:o.a,applyReactionInstructions:e.applyReactionInstructions,updateEntry:e.updateEntry}),createProps:({actions:{applyReactionInstructions:e,createLocalApiErrorHandler:t,processCallback:n,scribe:a,updateEntry:o},entry:r})=>{const{content:i}=r,l=i&&i.relevancePrompt;if(!l)return null;return{onIsRelevant:()=>{e({entry:r,triggerName:C.a.ON_IS_RELEVANT})},title:l.title,confirmation:l.confirmation,isRelevantText:l.isRelevantText,notRelevantText:l.notRelevantText,isRelevantIcon:I(l.displayType,!0),notRelevantIcon:I(l.displayType,!1),isRelevantOnClick:()=>{o(r.entryId,{relevancePrompt:{...l,showConfirmation:!0}}),n(l.isRelevantCallback).catch(t())},notRelevantOnClick:()=>{o(r.entryId,{relevancePrompt:{...l,showConfirmation:!0}}),n(l.notRelevantCallback).catch(t())},displayType:l.displayType,showConfirmation:l.showConfirmation}},getScribeDataItem:e=>f.a.forRelevancePrompt(e.itemMetadata.clientEventInfo),onImpression:({actions:{scribe:e},scribeData:t,scribeNamespace:n})=>{e({...n,element:"relevance_prompt",action:"impression"},t)}});t.default=g},pbku:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=Object.freeze({ON_LINGER:"onLinger",ON_IS_RELEVANT:"onIsRelevant",ON_SHOW_MORE:"onShowMore"})}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/ondemand.relevancePromptHandler.d85fb525.js.map