(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{"+Bsv":function(e,t,a){"use strict";var n=a("ERkP"),r=a("3XMw"),o=a.n(r),i=a("M2x3"),s="settingsAppBar",c=a("/yvb"),l=a("rHpw");const d=o.a.bb081ea1,u={viewType:"settings_button"},p=n.memo((({onPress:e,pullRight:t,to:a})=>n.createElement(c.a,{accessibilityLabel:d,behavioralEventContext:u,hoverLabel:{label:d},icon:n.createElement(i.a,null),link:a,onPress:e,pullRight:t,style:m.button,testID:s,type:"primaryText"}))),m=l.a.create((e=>({button:{marginVertical:`calc(-${e.spaces.space12})`}})));t.a=p},"+o05":function(e,t,a){"use strict";var n=a("ezF+"),r=Object.freeze({Cell:"Cell",Hero:"Hero",Tile:"Tile"});const o={loader:()=>a.e(218).then(a.bind(null,"QPD4")),loaderKey:"defaultScoreEventSummaryLoader",strategy:a("XBtf").a.Critical};t.a=n.c({selectDisplayType:e=>e.content.displayType,handlers:{[r.Cell]:o}})},BxsD:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return d})),a.d(t,"d",(function(){return p})),a.d(t,"f",(function(){return m})),a.d(t,"e",(function(){return b})),a.d(t,"g",(function(){return g}));var n=a("vXCH"),r=a("oQhu"),o=a("ZNT5"),i=a("eR3e");const s=Object.freeze({Trends:"trends"}),c=Object.freeze({WebSidebar:"web_sidebar"}),l="explore-",d=({contentType:e,displayLocation:t,featureSwitches:a,focalTweetId:n,includePageConfiguration:r=!1,initialTabId:i,profileUserId:s}={})=>{const c=e||t||"main",d=n?`${l}${c}-tweet-${n}`:s?`${l}${c}-user-${s}`:`${l}${c}`,p=a.isTrue("responsive_web_new_client_events_enabled");return Object(o.a)({timelineId:d,formatResponse:u(p),getEndpoint:e=>e.URT.fetchExplore,getEndpointParams:a=>({...a,candidate_source:e,display_location:t,focal_tweet_id:n,include_page_configuration:r,initial_tab_id:i,profile_user_id:s,entity_tokens:p}),context:"FETCH_EXPLORE",perfKey:`${l}${c}`,staleIntervalMs:9e5})},u=e=>t=>{const{pageConfiguration:a}=t;if(e&&a&&a.tabs){const r=a.tabs.tabs.map((t=>{var a,n,r;const o={...null===(a=t.urtEndpoint)||void 0===a||null===(n=a.urtEndpointOptions)||void 0===n?void 0:n.requestParams,entity_tokens:e};return{...t,urtEndpoint:{...t.urtEndpoint,urtEndpointOptions:{...null===(r=t.urtEndpoint)||void 0===r?void 0:r.urtEndpointOptions,requestParams:o}}}})),o={...t,pageConfiguration:{...a,tabs:{...a.tabs,tabs:r}}};return Object(n.a)(o)}return Object(n.a)(t)},p=(e,t)=>d({featureSwitches:e,includePageConfiguration:!0,initialTabId:t}),m=Object(r.a)((e=>d({featureSwitches:e,contentType:s.Trends}))),b=Object(r.a)((e=>d({featureSwitches:e,displayLocation:c.WebSidebar}))),g=()=>(e,t)=>e(Object(i.t)(t()).filter((e=>0===e.indexOf(l))).map((e=>Object(i.g)(e))))},PH3B:function(e,t,a){"use strict";var n=a("ezF+");var r=Object.freeze({Cell:"Cell",PreviewCard:"PreviewCard"}),o=a("XBtf");const i={loader:()=>Promise.all([a.e(0),a.e(327)]).then(a.bind(null,"a+ad")),loaderKey:"newsCellLoader",strategy:o.a.Critical},s={loader:()=>Promise.all([a.e(0),a.e(329)]).then(a.bind(null,"hX2d")),loaderKey:"newsPreviewCardLoader",strategy:o.a.Critical};t.a=n.c({selectDisplayType:e=>e.content.newsDisplayType,handlers:{[r.Cell]:i,[r.PreviewCard]:s}})},XtkE:function(e,t,a){"use strict";var n=a("ezF+"),r=a("6rlp"),o=a("ERkP"),i=a("vjRr"),s=a("/Ikv"),c=a("VPAj"),l=a("0KEI"),d=a("RoyM"),u=a("aX4+"),p=a("caTy"),m=a("cFuS"),b=a("zh9S"),g=a("Rp9C"),h=(a("MvUL"),a("aTAq")),E=a("b5s6"),f=a("i7AQ"),y=a("zOwA"),T="metadata",w="trend",_=a("MWbm"),C=a("hxu0"),v=a("PbQQ"),x=a("htQn"),k=a("pjBI"),I=a("t62R"),S=a("e5HP"),O=a("rHpw");const P=/[\u0600-\u06FF]|[\u0750-\u077F]|[\u0590-\u05FF]|[\uFE70-\uFEFF]/gm,R=(e,t=0)=>e.replace("#","").charAt(t).match(P)?"rtl":"ltr";class M extends o.Component{render(){const{associatedTweetIds:e,attachment:t,description:a,domainContext:n,groupedTrends:r,isInSidebar:i,link:s,name:c,onClick:l,rank:d,trendFeedbackMenu:u}=this.props,p=R(c),m=s&&("string"==typeof s?{pathname:s}:s),b=e&&e.length?e[0]:void 0;return o.createElement(v.a.Consumer,null,(e=>o.createElement(o.Fragment,null,o.createElement(x.a,{link:m?e.withAnchorless(m):void 0,onPress:l,style:j.rootLink,testID:w,withDarkerInteractiveBackground:i},o.createElement(_.a,{style:j.content},o.createElement(k.a,null,d?o.createElement(I.b,{accessibilityHidden:!0,color:"gray700",size:"subtext2"},d):null,o.createElement(I.b,{color:"gray700",size:"subtext2"},n||null)),o.createElement(I.b,{dir:p,style:j.name,weight:"bold",withHashflags:!0},c),a?o.createElement(I.b,{color:"gray700",style:j.description},a):null,b?o.createElement(E.a,{isCondensed:!0,style:j.withMarginTop,tweetId:b}):null,t?o.createElement(_.a,{style:j.attachment},t):null,o.createElement(f.a,{groupedTrends:r}),this._renderMetadata(),o.createElement(_.a,{style:j.trendFeedbackMenuContainer},u))))))}_renderMetadata(){const{metaDescription:e,promotedContent:t,socialProofUser:a}=this.props;let n;t?n=o.createElement(S.a,{label:e,promotedContent:t}):a&&e?n=o.createElement(y.a,{image:a.profile_image_url_https,key:a.id_str,label:e,textSize:"subtext2"}):e&&(n=e);const r=Object(h.a)(n)&&n.length?R(n,n.length-1):void 0;return n?o.createElement(I.b,{color:"gray700",dir:r,size:"subtext2",style:j.withMarginTop,testID:T},n):null}}var L=Object(C.a)(M);const j=O.a.create((e=>({rootLink:{display:"flex",paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical},trendFeedbackMenuContainer:{position:"absolute",top:1,right:0},attachment:{alignSelf:"stretch",paddingBottom:e.spaces.space4,paddingTop:e.spaces.space12},description:{paddingTop:e.spaces.space2},content:{flexGrow:1,position:"relative"},name:{paddingTop:e.spaces.space2},withMarginTop:{marginTop:e.spaces.space4}})));var A=a("G6rE");const{CardNames:B}=s.a,F=e=>e&&e.promotedTrendId?{disclosure_type:e.disclosureType,impression_id:e.promotedTrendId}:void 0,H=Object.freeze({[B.LIVE_EVENT]:!0,[B.MOMENT]:!0,[B.SUMMARY]:!0,[B.SUMMARY_LARGE_IMAGE]:!0,[B.AUDIOSPACE]:!0}),D=(e,t)=>{if(e&&e.length>0){const a=e[0];if(!t&&a.name!==B.LIVE_EVENT&&a.name!==B.AUDIOSPACE)return;const n=a.name===B.SUMMARY_LARGE_IMAGE?B.SUMMARY:a.name;if(!H[n])return;return o.createElement(u.a,{card:{url:a.url,name:n,binding_values:a.binding_values,users:a.users},cardContext:{locationKey:"trend",tweetUserId:"TREND_CARD_NO_TWEET_USER_ID"},cardState:"secondary"})}},U=({entry:e})=>({cards:i.a.createManyHydratedSelector(e.content.associatedCardUrls||[]),socialProofUsers:t=>A.e.selectMany(t,e.content.associatedUserIds||[])});var z=(e,t)=>n.g({isFocusable:Object(c.a)(!0),component:L,bindActions:({module:e})=>({logTrend:r.c,scribe:b.c,createLocalApiErrorHandler:Object(l.createLocalApiErrorHandlerWithContextFactory)(t)}),selectData:U,createProps:({actions:{createLocalApiErrorHandler:t,logTrend:a,scribe:n},data:{cards:r,socialProofUsers:i},entry:s,feedbackItems:c,module:{selectFeedbackActions:l},scribeData:u,scribeNamespace:b})=>{const{content:g}=s,{promotedMetadata:h}=g,E=g.groupedTrends?g.groupedTrends.map((e=>({name:e.name,link:Object(p.b)(e.url)}))):[];return{associatedTweetIds:g.associatedTweetIds,attachment:D(r,e),description:g.description,domainContext:g.trendMetadata.domainContext,groupedTrends:E,link:Object(p.b)(g.url),metaDescription:g.trendMetadata&&g.trendMetadata.metaDescription,name:g.name,onClick:()=>{n({...b,action:"search"},u),h&&h.promotedTrendId&&a({promoted_trend_id:h.promotedTrendId,impression_id:h.impressionString,event:m.d.TREND_CLICK}).catch(t())},promotedContent:F(h),rank:g.rank,trendFeedbackMenu:o.createElement(d.a,{feedbackItems:c}),socialProofUser:i&&i[0]}},getScribeDataItem:e=>{const{name:t,promotedMetadata:a}=e.content,{clientEventInfo:n}=e.itemMetadata;return g.a.getTrendItem(t,a,n)},onImpression:({actions:{createLocalApiErrorHandler:e,logTrend:t,scribe:a},entry:n,scribeData:r,scribeNamespace:o})=>{const{promotedMetadata:i}=n.content;a({...o,action:"impression"},r),i&&i.promotedTrendId&&t({promoted_trend_id:i.promotedTrendId,impression_id:i.impressionString,event:m.d.TREND_VIEW}).catch(e())}});t.a=({errorContext:e,withThirdPartyCards:t=!1})=>n.e(z(t,e))},b5s6:function(e,t,a){"use strict";var n=a("97Jx"),r=a.n(n),o=a("ERkP"),i=a("v6aA"),s=a("XOJV"),c=a("eSoz"),l=a("rxPX"),d=a("0KEI");const u=(e,t)=>t.tweetId,p=(e,t)=>{const a=t.tweetId,n=a&&s.a.select(e,a);return n?Object(c.f)(e,n):void 0};var m=Object(l.a)().propsFromState((()=>({community:p,hydratedTweet:s.a.createHydratedTweetSelector(u)}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(d.createLocalApiErrorHandlerWithContextFactory)("QUOTE_TWEET_CONTAINER"),fetchCommunityIfNeeded:c.b.fetchOneIfNeeded}))),b=a("YeIG"),g=a("uCxL"),h=a("x5Pi");const E=m((({community:e,createLocalApiErrorHandler:t,fetchCommunityIfNeeded:a,hydratedTweet:n,tweetId:s,...c})=>{const{featureSwitches:l,loggedInUserId:d}=o.useContext(i.a),u=null==n?void 0:n.community_id_str;o.useEffect((()=>{u&&Object(b.a)(e)&&a(u).catch(t())}),[e,u,t,a]);const p=l.isTrue("responsive_web_alt_text_badge_enabled"),m=n&&Object(h.f)(n,d,e),E=m&&Object(h.e)(m),f=l.isTrue("responsive_web_reactions_enabled");return o.createElement(g.a,r()({},c,{loggedInUserId:d,shouldShowAltLabelAlways:p,socialContextProps:E,tweet:n,withReactions:f}))}));t.a=E},i7AQ:function(e,t,a){"use strict";var n=a("ERkP"),r=a("3XMw"),o=a.n(r),i=a("t62R"),s=a("rHpw");const c=({groupedTrends:e,linkColor:t,textColor:a})=>{const r=l(e,t);return r?n.createElement(i.b,{color:a,numberOfLines:2,size:"subtext2",style:m.root},r):null};c.defaultProps={textColor:"gray700"};const l=(e,t)=>e.length>=2?u(e,t):1===e.length?d(e[0],t):null,d=(e,t)=>n.createElement(o.a.I18NFormatMessage,{$i18n:"g1e704c3"},p(e,t,!0)),u=(e,t)=>n.createElement(o.a.I18NFormatMessage,{$i18n:"i7bba09d"},p(e[0],t,!0),p(e[1],t)),p=(e,t,a=!1)=>n.createElement(i.b,{color:t,link:e.link,size:"subtext2",style:a&&m.paddingLeft,withHashflags:!0},e.name),m=s.a.create((e=>({root:{marginTop:e.spaces.space4},paddingLeft:{paddingLeft:e.spaces.space2}})));t.a=c},jcx9:function(e,t,a){"use strict";a.r(t),a.d(t,"ExploreScreen",(function(){return $}));var n=a("KEM+"),r=a.n(n),o=a("ERkP"),i=a("es0u"),s=a("hqKg"),c=a("BxsD"),l=a("oQhu"),d=a("wrlS"),u=a("rxPX");const p=(e,t)=>{var a,n;return(null===(a=t.match)||void 0===a||null===(n=a.params)||void 0===n?void 0:n.tabId)||void 0},m=()=>{const e=Object(l.a)((e=>Object(c.d)(e))),t=Object(l.a)(((e,t)=>Object(c.d)(e,t)));return Object(s.createSelector)(d.d,p,(t=>e(Object(d.d)(t)).selectPageConfiguration(t)),((e,a,n)=>{var r;return t(e,n?null==n||null===(r=n.tabs)||void 0===r?void 0:r.initialTabId:a)}))};var b=Object(u.a)().propsFromState((()=>({initialTabModule:m(),selectedTabId:p}))).withAnalytics({page:"guide",section:"main"}),g=a("FIs5"),h=a("QIgh"),E=a("8UdT"),f=a("iu0J"),y=a("PH3B"),T=a("+o05"),w=a("XtkE");const _="EXPLORE_SCREEN";var C={...h.b,[E.b.EventSummary]:Object(f.a)({errorContext:_}),[E.b.News]:y.a,[E.b.ScoreEventSummary]:T.a,[E.b.Trend]:Object(w.a)({withThirdPartyCards:!0,errorContext:_})},v=a("0+qk"),x=a("3XMw"),k=a.n(x),I=a("VTxf"),S=a("rJoH"),O=a("7BdX"),P=a("7nmT"),R=a.n(P),M=a("UZjl"),L=a("+Bsv"),j=a("LsPn"),A=a("aITJ"),B=a("v6aA");const F=k.a.fcf3e54b,H=k.a.ead349a7,D=k.a.a19ce06f,U=k.a.a9ae1e78,z=()=>o.createElement(I.a,null),N=()=>o.createElement(g.a,{message:D}),X=600,V=315,K="https://abs.twimg.com/a/1602199131/img/moments/moments-card.jpg";class $ extends o.Component{constructor(...e){super(...e),r()(this,"_getTabLink",(e=>({pathname:`/explore/tabs/${e}`}))),r()(this,"_handleSettingsClick",(e=>{const{analytics:t}=this.props;t.scribe({element:"settings_button",action:"click"})})),r()(this,"_handleBackClick",(()=>{const{history:e}=this.props;e.goBack()})),r()(this,"_setSearchBoxRef",(e=>{this._searchBoxRef=e})),r()(this,"_handleSoftLeftClick",(()=>{const e=R.a.findDOMNode(this._searchBoxRef);e&&e instanceof window.HTMLElement&&e.querySelector("input").focus()}))}render(){const{analytics:e,history:t,initialTabModule:a,location:n,selectedTabId:r}=this.props,s=o.createElement(v.a,{history:t}),l=this.context.featureSwitches.isTrue("responsive_web_trends_setting_new_endpoints")?"/settings/explore":"/settings/trends",d=o.createElement(L.a,{onPress:this._handleSettingsClick,pullRight:!0,to:l}),u=n.state&&n.state.searchFocused,p=o.createElement(i.a,{withSearchBox:!1,withTrends:!1});return o.createElement(o.Fragment,null,o.createElement(S.a,{canonical:"https://twitter.com/explore",description:H,image:K,imageH:V,imageW:X,title:F,type:"article"}),o.createElement(M.a,{behavioralEventViewType:"guide",entryConfiguration:C,fab:s,getTabLink:this._getTabLink,history:t,initialPageNamespace:e.contextualScribeNamespace,module:a,onBackClick:u?this._handleBackClick:void 0,prerollDisplayLocation:O.c.OTHER,renderEmptyState:z,renderUnavailable:N,rightControl:d,searchBoxRef:this._setSearchBoxRef,selectedTabId:r,sidebarContent:p,timelinePrefix:c.b,title:F,withBottomLoginSignupBar:!0,withDeferredView:!0,withSearchBox:!0}),A.b.isKaiOS()?o.createElement(j.a,{leftText:U,onLeftClick:this._handleSoftLeftClick}):null)}}r()($,"contextType",B.a);t.default=b($)},rA3t:function(e,t,a){"use strict";a.r(t),a.d(t,"ExploreRevampScreen",(function(){return M}));var n=a("ERkP"),r=a("v6aA"),o=a("es0u"),i=a("mw9i"),s=a("s14A"),c=a("dwig"),l=a("0+qk"),d=a("WpDa"),u=a("ZNT5"),p=Object(u.a)({timelineId:"forYouExploreGraphQL",getEndpoint:e=>e.Explore.fetchForYouExplore,getEndpointParams:({count:e,cursor:t})=>({count:e,cursor:"string"==typeof t?t:void 0}),context:"FETCH_FOR_YOU_EXPLORE",perfKey:"forYouExploreGraphQL",formatResponse:d.a}),m=a("3XMw"),b=a.n(m),g=a("rJoH"),h=a("yoO3"),E=a("7nmT"),f=a.n(E),y=a("fTQJ"),T=a("+Bsv"),w=a("VS6U"),_=a("LsPn"),C=a("aITJ"),v=a("Irs7");const x=b.a.fcf3e54b,k=b.a.ead349a7,I=b.a.a9ae1e78,S={page:"guide",section:"main"},O=600,P=315,R="https://abs.twimg.com/a/1602199131/img/moments/moments-card.jpg",M=e=>{const{analytics:t,history:a,location:d}=e,{featureSwitches:u}=n.useContext(r.a),m=n.useRef(null),b=d.state&&d.state.searchFocused,E=u.isTrue("responsive_web_trends_setting_new_endpoints")?"/settings/explore":"/settings/trends",v=n.useCallback((e=>{t.scribe({...S,element:"settings_button",action:"click"})}),[t]),M=n.useCallback((()=>{a.goBack({backLocation:"/"})}),[a]),L=n.useCallback((()=>{const e=f.a.findDOMNode(m.current);e&&e instanceof window.HTMLElement&&e.querySelector("input").focus()}),[m]),j=n.createElement(l.a,{history:a}),A=n.createElement(T.a,{onPress:v,pullRight:!0,to:E}),B=n.createElement(o.a,{withSearchBox:!1,withTrends:!1});return n.createElement(n.Fragment,null,n.createElement(h.a,{behavioralEventViewType:"guide"},n.createElement(g.a,{canonical:"https://twitter.com/explore",description:k,image:R,imageH:P,imageW:O,title:x,type:"article"}),n.createElement(w.a,{history:a,onBackClick:b?M:void 0,primaryContent:n.createElement(c.a,{component:i.a,fab:j},n.createElement(s.a,null,n.createElement(y.a,{module:p,title:x}))),rightControl:A,searchBoxRef:e=>{m.current=e},secondaryBar:null,sidebarContent:B,title:x,withBottomLoginSignupBar:!0,withSearchBox:!0})),C.b.isKaiOS()?n.createElement(_.a,{leftText:I,onLeftClick:L}):null)};t.default=Object(v.a)(M)},zOwA:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a("KEM+"),r=a.n(n),o=a("ERkP"),i=a("9Xij"),s=a("t62R"),c=a("rHpw"),l=a("U+bB"),d=a("MWbm");class u extends o.PureComponent{render(){const{color:e,image:t,label:a,textSize:n}=this.props;return o.createElement(d.a,{style:p.root},t?o.createElement(d.a,{style:p.imageContainer},o.createElement(i.a,{ratio:1},o.createElement(l.a,{source:t,style:p.image}))):null,o.createElement(s.b,{color:e,size:n},a))}}r()(u,"defaultProps",{color:"gray700",textSize:"body"});const p=c.a.create((e=>({root:{alignItems:"center",flexDirection:"row"},imageContainer:{alignSelf:"flex-start",backgroundColor:e.colors.gray200,flexShrink:0,height:e.fontSizes.headline1,marginRight:e.spaces.space4,width:e.fontSizes.headline1,borderRadius:e.borderRadii.infinite},image:{height:"100%",width:"100%",borderRadius:e.borderRadii.infinite}})))}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/bundle.Explore.b9c9acf5.js.map