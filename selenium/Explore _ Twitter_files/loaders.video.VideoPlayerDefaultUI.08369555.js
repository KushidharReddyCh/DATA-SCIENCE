(window.webpackJsonp=window.webpackJsonp||[]).push([[187],{"0W/e":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a("rHpw");const n=e=>1===e?{height:r.a.theme.spacesPx.space48,width:r.a.theme.spacesPx.space48}:{height:r.a.theme.spacesPx.space40,width:e*r.a.theme.spacesPx.space40}},PEva:function(e,t,a){"use strict";a.r(t);var r=a("ERkP"),n=a("KEM+"),l=a.n(n),i=a("+xEG"),s=a("aoyV"),o=a("kCRK"),c=a("fZNH"),p=a("ub6r"),u=a("0nHQ"),m=a("USG3"),d=a("Q0n6"),h=a("5VhU"),b=a("hhMf"),y=a("Ur4q"),f=a("oH2E"),E=a("mNIZ"),g=a("zCLo"),S=a("MWbm"),v=a("ReFq"),C=a("VLhD");class R extends r.PureComponent{constructor(...e){super(...e),l()(this,"_renderWithHideControls",(e=>{var t,a;const{accessibilityLabel:n,containerRef:l,customControlBarIcon:b,fullscreenAdsDisabledOnIOS:R,guestsState:w,onScribeEvent:A,playerApi:T,playerDisplayOptions:k,playerState:L,poster:O,shouldShowAltLabel:_,showWatchAgain:x,useKeyboardShortcuts:P}=this.props;if(!T||!L)return null;const I=Object(d.e)(L),F=(null==I?void 0:I.contentType)===o.a.GIF,B="PLAY_REQUESTED"!==(null===(t=L.controls)||void 0===t?void 0:t.playState),D=x&&L.tracksFinished,{Observer:N,observed:M}=e,j=Object(C.c)(L,M,C.b),W=!!L.error,H=j&&L.isPreview,U=!(!j||null==I||!I.isLive),z=_?n:void 0,V=!(null!=k&&k.hideLeftBadges)&&(!!z||F||H||U),K=!(null!=k&&k.hideRightBadges)&&j,Y=!(null!=k&&k.hidePosterImage),$=null===(a=L.controls)||void 0===a?void 0:a.isPosterShown;return r.createElement(g.a,{enabled:!!P,playerApi:T,playerState:L},r.createElement(c.a,{playerState:L},r.createElement(N,{click:!0,interactionKey:C.a.Root,mousemove:!0,mouseover:!0},W?null:r.createElement(r.Fragment,null,r.createElement(y.a,{hideControls:j,isTouchOnlyUI:C.b,playerApi:T,playerDisplayOptions:k,playerState:L}),Y&&!D&&r.createElement(f.a,{imageSrc:O,playerApi:T,playerState:L,withPlayButton:B}),r.createElement(s.a,{playerState:L}),!F&&x&&r.createElement(v.a,{onScribeEvent:A,playerApi:T,playerState:L}),r.createElement(h.a,{guestsState:w,playerState:L}),!F&&r.createElement(N,{focus:!0,interactionKey:C.a.VideoCTA,mouseover:!0},r.createElement(m.a,{show:!j},r.createElement(E.a,{playerApi:T,playerState:L}))),!F&&!$&&r.createElement(r.Fragment,null,r.createElement(N,{focus:!0,interactionKey:C.a.A11YHook},r.createElement(S.a,{focusable:!0})),r.createElement(N,{focus:!0,interactionKey:C.a.ControlBar,mouseover:!0,touch:!0},r.createElement(p.a,{containerRef:l,customControlBarIcon:b,fullscreenAdsDisabledOnIOS:R,hideControls:j,playerApi:T,playerState:L,publisherDisplayName:null==I?void 0:I.publisherDisplayName,publisherProfileImageUrl:null==I?void 0:I.publisherProfileImageUrl,showScrubber:"ad"!==(null==I?void 0:I.displayType)&&!(null!=I&&I.isLive)}))),r.createElement(m.a,{show:V},r.createElement(i.a,{mediaAccessibilityLabel:z,playerDisplayOptions:k,playerState:L,position:"left"})),r.createElement(m.a,{show:K},r.createElement(i.a,{playerDisplayOptions:k,playerState:L,position:"right"}))),r.createElement(m.a,{show:W},W&&r.createElement(u.a,{imageSrc:O,playerApi:T,playerState:L})))))}))}render(){const{playerApi:e,playerState:t}=this.props;return e&&t?r.createElement(b.a,null,r.createElement(b.a.Context.Consumer,null,this._renderWithHideControls)):null}}var w=R,A=a("Zl35"),T=a("t62R"),k=a("Wms4"),L=a("vCAy"),O=a("w05h"),_=a("IE/l"),x=a("N2PN"),P=a("dPHj"),I=a("/yvb"),F=a("0W/e"),B=a("Lsrn"),D=a("k/Ka");const N=(e={})=>Object(D.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[B.a.root,e.style],viewBox:"0 0 24 24"},r.createElement("g",null,r.createElement("path",{d:"M20.5 2h-1c-.828 0-1.5.672-1.5 1.5v6.976L4.87 2.116c-.228-.146-.522-.157-.762-.023-.24.132-.39.384-.39.657v18.5c0 .273.15.525.39.657.113.063.237.093.36.093.142 0 .28-.04.403-.117L18 13.527V20.5c0 .828.672 1.5 1.5 1.5h1c.828 0 1.5-.672 1.5-1.5v-17c0-.828-.672-1.5-1.5-1.5z"})));N.metadata={width:24,height:24};var M=N,j=a("3rX5"),W=a("cm6r"),H=a("fs1G"),U=a("rHpw"),z=a("shC7");const V=U.a.create((({borderRadii:e,borderWidths:t,colors:a,spaces:r})=>({thumbnail:{backgroundColor:a.translucentBlack77,borderRadius:e.small,display:"flex",flexDirection:z.a.getConstants().isRTL?"row-reverse":"row",overflow:"hidden",opacity:1},thumbnailFocused:{boxShadow:`0 0 0 ${t.medium} ${a.white}`,outlineStyle:"none"},countdownTime:{paddingHorizontal:r.space4,minWidth:"1em",display:"flex",alignItems:"center",justifyContent:"center",fontVariant:["tabular-nums"]},iconMargin:{marginLeft:"0.5em"},iconMarginRtl:{marginRight:"0.5em"}})));var K=({onClick:e})=>{const{aspectRatio:t,playerState:a}=r.useContext(A.b.PeriodicContext);if(!a)return null;const n=Object(d.e)(a);if(!n||n.displayType!==o.c.AD)return null;const l=n.durationMs,i=l<7e3,s=(i?l:5e3)-(n.currentTimeMs||0),c=s>250,p=s<0,u=Object(d.d)(n)||0,h=Object(d.f)(n)||0,b=(i?h:5)-u,y=Object(O.m)({seconds:Object(O.q)(b)});return r.createElement(W.a,{accessibilityLabel:p?O.l:y,accessibilityRole:"button",focusable:!0,interactive:!0,interactiveStyles:null,onClick:p&&e?e:H.a,testID:"ControlBar-containerView"},(e=>{const n=z.a.getConstants().isRTL;return r.createElement(r.Fragment,null,!p&&r.createElement(m.a,{show:c},r.createElement(S.a,{style:[V.thumbnail,e.isFocused&&V.thumbnailFocused],testID:"ControlBar-videoThumbnail"},r.createElement(T.b,{color:"white",size:"subtext2",style:V.countdownTime},b),r.createElement(j.a,{source:a.posterImage,style:Object(F.a)(t)}))),r.createElement(m.a,{show:p},r.createElement(I.a,{focusable:!1,interactivityState:e,pointerEvents:"auto",size:"small",testID:"ControlBar-skipButton",type:"onMediaDominantColorFilled"},r.createElement(T.b,{dir:"ltr",weight:"normal"},O.k,r.createElement(M,{style:n?V.iconMarginRtl:V.iconMargin})))))}))},Y=a("aITJ"),$=a("kRXa"),G=a("wtsM"),X=a("5Ixf"),q=a("AtEG"),Q=a("NnQ9"),Z=a("p6DB");const J="PrerollControlBar-",ee={CAPTIONS:`${J}Captions`,FULLSCREEN:`${J}Fullscreen`};class te extends r.Component{constructor(...e){super(...e),l()(this,"_parentRef",r.createRef()),l()(this,"_renderRightContent",(e=>{const{playerApi:t,playerState:a}=this.props;if(!t||!a)return null;const n=Y.b.isIOS();return r.createElement(r.Fragment,null,this._renderTimePlayed(),this._renderVolumeControls(t,a),!n&&r.createElement(e,{focus:!0,interactionKey:ee.FULLSCREEN,interactionTimeoutMs:0,mouseover:!0},this._renderFullScreenButton(t,a)))})),l()(this,"_renderActionButton",((e,t)=>{const{controls:a,isPlaying:n}=t,{pause:l,play:i}=e,s=Object(d.e)(t);return!s||s.isLive?null:n||a&&"PLAY_REQUESTED"===a.playState?r.createElement(x.b,{accessibilityLabel:G.d,hoverLabelPreferredHorizontalOrientation:"end",icon:r.createElement(X.a,null),onPress:l}):r.createElement(x.b,{accessibilityLabel:G.e,hoverLabelPreferredHorizontalOrientation:"end",icon:r.createElement(q.a,null),onPress:i})})),l()(this,"_renderAdText",(()=>r.createElement(P.a,null,O.o))),l()(this,"_renderTimePlayed",(()=>r.createElement(A.a,{periodic:!0},(({playerState:e})=>{const t=Object(d.e)(e),a=Object(d.d)(t),n=Object(d.f)(t);return t&&"number"==typeof a&&n&&!t.isLive?r.createElement(P.a,null,`${Object(d.b)(a)} / ${Object(d.b)(n)}`):null})))),l()(this,"_renderVolumeControls",((e,t)=>{const{isMuted:a,volume:n}=t,{mute:l,setVolume:i,unmute:s}=e,o=a?s:l,c=a?G.g:G.c;return r.createElement($.a,{accessibilityLabelIcon:c,accessibilityLabelSlider:G.h,isMuted:a,onMuteToggle:o,onSliderChange:this._setVolumePercent(i),volumePercent:100*n})})),l()(this,"_setVolumePercent",(e=>t=>{e(t/100)})),l()(this,"_renderFullScreenButton",((e,t)=>{const{fullscreen:a}=t;return a.isFullscreen?r.createElement(x.b,{accessibilityLabel:G.b,hoverLabelPreferredHorizontalOrientation:"start",icon:r.createElement(re,{isFullscreen:a.isFullscreen}),onPress:this._exitFullScreen(e)}):r.createElement(x.b,{accessibilityLabel:G.a,hoverLabelPreferredHorizontalOrientation:"start",icon:r.createElement(re,{isFullscreen:a.isFullscreen}),onPress:this._requestFullScreen(e)})})),l()(this,"_requestFullScreen",(e=>()=>{e.fullScreen(this.props.containerRef)})),l()(this,"_exitFullScreen",(e=>()=>e.exitFullScreen())),l()(this,"_renderSkipAffordance",(()=>r.createElement(S.a,{pointerEvents:"none",style:ae.skipAffordance},r.createElement(K,null))))}render(){const{displayDismissableControls:e,playerApi:t,playerState:a,skipButton:n}=this.props;return t&&a?r.createElement(b.a.ObserverContext.Consumer,null,(l=>r.createElement(S.a,{ref:this._parentRef,style:ae.root},r.createElement(_.a,{actionButton:this._renderActionButton(t,a),displayDismissableControls:e,leftContent:this._renderAdText(),rightContent:this._renderRightContent(l),skipButton:n})))):null}}const ae=U.a.create((e=>({root:{writingDirection:"ltr",cursor:"auto",width:"100%"},skipAffordance:{marginLeft:e.spaces.space12,visibility:"hidden"}})));function re({isFullscreen:e,style:t}){const{hidden:a,shown:n}=ne;return r.createElement(r.Fragment,null,r.createElement(Q.a,{style:e?a:n}),r.createElement(Z.a,{style:e?n:a}))}const ne={hidden:{display:"none",height:"1.5em"},shown:{display:"block",height:"1.5em"}};var le=te,ie=a("jhWN");class se extends r.PureComponent{constructor(...e){super(...e),l()(this,"_buildMessage",((e,t)=>{switch(e){case o.d.watch_now:return t?Object(O.e)({advertiserName:t}):O.j;case o.d.shop:return t?Object(O.c)({advertiserName:t}):O.h;case o.d.see_more:return t?Object(O.b)({advertiserName:t}):O.g;case o.d.go_to:return t?Object(O.a)({advertiserName:t}):O.f;case o.d.visit_site:default:return t?Object(O.d)({advertiserName:t}):O.i}})),l()(this,"_handlePress",(e=>()=>{e.callToActionClicked()}))}componentDidMount(){const{playerApi:e}=this.props;e&&e.callToActionImpression()}render(){const{advertiserName:e,avatarUri:t,ctaType:a,ctaUrl:n,playerApi:l}=this.props;if(!l)return null;const i=this._buildMessage(a,e);return r.createElement(I.a,{accessibilityLabel:i,icon:t?r.createElement(ie.a,{borderColor:"white",borderWidth:"small",size:"medium",uri:t}):void 0,link:n,onPress:this._handlePress(l),size:"xSmall",style:oe.root,type:"onMediaDominantColorFilled"},i)}}const oe=U.a.create((e=>({root:{position:"absolute",left:e.spaces.space12,top:e.spaces.space12}})));var ce=se,pe=a("aNKf");const ue=U.a.create((e=>({root:{position:"absolute",top:0,left:0,width:"100%"},gradientContainer:{padding:e.spaces.space16},flexRow:{alignItems:"center",flexDirection:"row"},rightSpacing:{marginRight:e.spaces.space4}})));var me=({children:e})=>r.createElement(S.a,{style:ue.root},r.createElement(pe.a,{colors:[U.a.theme.colors.translucentBlack77,U.a.theme.colors.transparent],style:ue.gradientContainer},r.createElement(S.a,{style:ue.flexRow},r.Children.toArray(e).map(((e,t,{length:a})=>{const n=`LinearGradient-children-${t}`,l=t<a-1?ue.rightSpacing:"";return r.createElement(S.a,{key:n,style:l},e)})))));class de extends r.Component{constructor(...e){super(...e),l()(this,"state",{showControlBar:!1,stackedLabels:!1}),l()(this,"_durationLabelRef",r.createRef()),l()(this,"_descriptionLabelRef",r.createRef()),l()(this,"_handleLayout",(()=>{var e,t;const a=null===(e=this._durationLabelRef)||void 0===e?void 0:e.current,r=null===(t=this._descriptionLabelRef)||void 0===t?void 0:t.current;a&&r&&a.measure(((e,t)=>{r.measure(((e,a)=>{t!==a?this.setState({stackedLabels:!0}):this.setState({stackedLabels:!1})}))}))})),l()(this,"_renderPrerollControlBar",(e=>{const{containerRef:t,onSkip:a,playerApi:n,playerState:l}=this.props;if(!n||!l)return null;const{Observer:i,observed:s}=e,o=Object(C.c)(l,s,C.b),c=l.fullscreen.isFullscreen,p=z.a.getConstants().isRTL,u=[he.labelOuterContainerBase,p?he.labelOuterContainerRtl:he.labelOuterContainerLtr];return r.createElement(S.a,{style:he.bottomContentContainer},r.createElement(S.a,{style:he.bottomContentRow},r.createElement(S.a,{style:[he.forceFullWidth,he.flexDirectionRow]},r.createElement(i,{focus:!0,interactionKey:C.a.A11YHook},r.createElement(S.a,{focusable:!0})),r.createElement(S.a,{style:he.flexExpand},r.createElement(S.a,{style:u},r.createElement(m.a,{show:o},r.createElement(S.a,{style:[he.bottomContentRow,he.rowBottomSpace]},this._renderLabels()))),c?null:r.createElement(S.a,{style:he.bottomContentRow},r.createElement(S.a,{style:[he.skipThumbnail,p?he.skipThumbnailAbsoluteRtl:he.skipThumbnailAbsolute],testID:be.floatSkipThumbnail},r.createElement(K,{onClick:a}))),r.createElement(i,{focus:!0,interactionKey:C.a.ControlBar,mouseover:!0,touch:!0},r.createElement(le,{containerRef:t,displayDismissableControls:!o,playerApi:n,playerState:l,skipButton:c?r.createElement(S.a,{style:[he.skipThumbnail,p?he.skipThumbnailRelativeRtl:he.skipThumbnailRelative],testID:be.inlineSkipThumbnail},r.createElement(K,{onClick:a})):null}))))))})),l()(this,"_renderWithIntentionContext",(e=>{const{playerApi:t,playerState:a}=this.props;if(!t||!a)return null;const n=Object(d.e)(a),l=null==n?void 0:n.advertiserProfileImageUrl,i=null==n?void 0:n.advertiserName,s=null==n?void 0:n.cta;return r.createElement(r.Fragment,null,s?r.createElement(ce,{advertiserName:i,avatarUri:l,ctaType:s.type,ctaUrl:s.url,playerApi:t}):r.createElement(me,null,l&&r.createElement(ie.a,{accessibilityHidden:!0,borderColor:"white",borderWidth:"small",focusable:!1,size:"medium",uri:l}),i&&r.createElement(T.b,{color:"white",weight:"bold"},i)),this._renderPrerollControlBar(e))})),l()(this,"_renderLabels",(()=>r.createElement(A.a,{periodic:!0},(({playerState:e})=>{const t=Object(d.e)(e),a=Object(d.f)(t),n=Object(d.d)(t)||0,l=a?a-n:null,i=z.a.getConstants().isRTL,s=[he.labelContainerBase,i?he.labelContainerRtl:he.labelContainerLtr],o=[L.b.borderRadiusLeft,this.state.stackedLabels&&L.b.borderRadiusRight],c=[L.b.borderRadiusRight,this.state.stackedLabels&&L.b.borderRadiusLeft],p=t&&"number"==typeof l&&!t.isLive?r.createElement(S.a,{ref:this._durationLabelRef},r.createElement(k.a,{key:"PrerollVideoOverlay-DurationLabel",style:[L.b.label,i?he.labelSpaceLeft:L.b.spaceRight,this.state.stackedLabels&&he.labelBottomSpace,...i?c:o]},r.createElement(T.b,{numberOfLines:1},Object(d.b)(l)))):null,u=r.createElement(S.a,{ref:this._descriptionLabelRef},r.createElement(k.a,{key:"PrerollVideoOverlay-DescriptionLabel",style:[L.b.label,i?he.labelSpaceLeft:L.b.spaceRight,...i?o:c]},r.createElement(T.b,{numberOfLines:1},O.o)));return r.createElement(S.a,{onLayout:this._handleLayout,pointerEvents:"none",style:s},p,u)}))))}render(){const{playerApi:e,playerState:t}=this.props;return e&&t?r.createElement(b.a.Context.Consumer,null,this._renderWithIntentionContext):null}}const he=U.a.create((e=>({bottomContentContainer:{flexWrap:"wrap",position:"absolute",bottom:0,width:"100%"},bottomContentRow:{alignItems:"flex-end",flexWrap:"nowrap",flexDirection:z.a.getConstants().isRTL?"row-reverse":"row",flexGrow:1,flexShrink:0,justifyContent:"space-between",width:"100%"},rowBottomSpace:{marginBottom:e.spaces.space12},forceFullWidth:{width:"100%"},labelOuterContainerBase:{flexWrap:"wrap",position:"absolute",bottom:0,maxWidth:"65%"},labelOuterContainerLtr:{flexDirection:"row",left:0},labelOuterContainerRtl:{flexDirection:"row-reverse",right:0},labelBottomSpace:{marginBottom:e.spaces.space2},labelContainerBase:{justifyContent:"flex-start",flexWrap:"wrap",flexGrow:1,flexShrink:1,flexBasis:"auto"},labelContainerLtr:{flexDirection:"row",marginLeft:e.spaces.space12},labelContainerRtl:{flexDirection:"row-reverse",marginRight:e.spaces.space12},labelSpaceLeft:{marginLeft:e.spaces.space2},skipThumbnail:{flexGrow:0,flexShrink:0,flexBasis:"auto",alignItems:"flex-end"},skipThumbnailRelative:{marginBottom:e.spaces.space12,marginRight:e.spaces.space12},skipThumbnailAbsolute:{position:"absolute",bottom:e.spaces.space12,right:e.spaces.space12,maxWidth:"35%"},skipThumbnailRelativeRtl:{marginBottom:e.spaces.space12,marginLeft:e.spaces.space12},skipThumbnailAbsoluteRtl:{position:"absolute",bottom:e.spaces.space12,left:e.spaces.space12,maxWidth:"35%"},flexExpand:{flexGrow:1,flexShrink:1,flexBasis:0},flexDirectionRow:{flexDirection:z.a.getConstants().isRTL?"row-reverse":"row"},flexWrap:{flexWrap:"wrap",justifyContent:"space-between"},hidden:{visibility:"hidden"}}))),be={floatSkipThumbnail:"float-SkipThumbnail",inlineSkipThumbnail:"inline-SkipThumbnail"};var ye=de,fe=a("uz49");class Ee extends r.PureComponent{constructor(...e){super(...e),l()(this,"state",{wasPrerollSkipped:!1}),l()(this,"_renderWithRedesignedPrerollUx",(e=>{var t;const{playerApi:a,playerState:n,poster:l}=this.props;if(!a||!n)return null;const i=Object(d.e)(n),s=(null==i?void 0:i.displayType)===o.c.AD&&(null==i?void 0:i.playbackCompleted),p=null===(t=n.errorInfo)||void 0===t?void 0:t.adFailed;if(this.state.wasPrerollSkipped||s||p)return r.createElement(A.a,null,(({aspectRatio:e})=>{const t=l||n.posterImage;return r.createElement(fe.a,{aspectRatio:e,imageSrc:t,onTransitionComplete:this._handleTransitionAnimationComplete})}));return(null==i?void 0:i.displayType)===o.c.AD?this._renderPrerollVideo(e):r.createElement(c.a,{playerState:n},this._renderPrerollVideo(e))})),l()(this,"_renderPrerollVideo",(e=>{var t;const{containerRef:a,playerApi:n,playerDisplayOptions:l,playerState:i,poster:o,showWatchAgain:c}=this.props;if(!n||!i)return null;const{Observer:p,observed:d}=e,h="PLAY_REQUESTED"!==(null===(t=i.controls)||void 0===t?void 0:t.playState),b=c&&i.tracksFinished,E=Object(C.c)(i,d,C.b),g=!!i.error,S=!(null!=l&&l.hidePosterImage);return r.createElement(p,{click:!0,interactionKey:C.a.Root,mousemove:!0,mouseover:!0},g?null:r.createElement(r.Fragment,null,r.createElement(y.a,{hideControls:E,isTouchOnlyUI:C.b,playerApi:n,playerDisplayOptions:l,playerState:i}),S&&!b&&r.createElement(f.a,{imageSrc:o,playerApi:n,playerState:i,withPlayButton:h}),r.createElement(s.a,{playerState:i}),r.createElement(ye,{containerRef:a,onSkip:this._handleSkip,playerApi:n,playerState:i})),r.createElement(m.a,{show:g},g&&r.createElement(u.a,{imageSrc:o,playerApi:n,playerState:i})))})),l()(this,"_handleSkip",(()=>{const{playerApi:e}=this.props;e&&e.pause(),this.setState({wasPrerollSkipped:!0})})),l()(this,"_handleTransitionAnimationComplete",(()=>{const{playerApi:e}=this.props;e&&e.nextTrack()}))}render(){const{playerApi:e,playerState:t}=this.props;if(!e||!t)return null;const a=Object(d.e)(t);return(null==a?void 0:a.displayType)===o.c.AD&&(null==a?void 0:a.useRedesignedPrerollUx)?r.createElement(b.a,null,r.createElement(b.a.Context.Consumer,null,this._renderWithRedesignedPrerollUx)):r.createElement(w,this.props)}}var ge=Ee;class Se extends r.PureComponent{render(){const{playerApi:e,playerState:t,useRedesignedPrerollUx:a}=this.props;return e&&t?a?r.createElement(ge,this.props):r.createElement(w,this.props):null}}t.default=Se},ReFq:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var r=a("KEM+"),n=a.n(r),l=a("ERkP"),i=a("/yvb"),s=a("3XMw"),o=a.n(s),c=a("rHpw"),p=a("MWbm");const u=o.a.f2d4e6f1;class m extends l.PureComponent{constructor(...e){super(...e),n()(this,"_createWatchAgainHandler",(e=>t=>{const{onScribeEvent:a,playerApi:r}=this.props;t.stopPropagation(),a&&a({namespace:{element:e,action:"click"}}),r&&r.replay()})),n()(this,"_handleOnPress",this._createWatchAgainHandler("watch_again_button")),n()(this,"_handleOnClick",this._createWatchAgainHandler("watch_again_overlay"))}render(){const{playerState:e}=this.props;return e&&e.tracksFinished?l.createElement(p.a,{onClick:this._handleOnClick,style:d.overlay},l.createElement(i.a,{accessibilityLabel:u,onPress:this._handleOnPress,type:"onMediaDominantColorFilled"},u)):null}}const d=c.a.create((e=>({overlay:{...c.a.absoluteFillObject,backgroundColor:c.a.theme.colors.translucentBlack30,alignItems:"center",justifyContent:"center"}})))},uz49:function(e,t,a){"use strict";var r=a("ERkP"),n=a("0W/e"),l=a("3rX5"),i=a("rHpw"),s=a("MWbm");const o={animationStage:"INITIAL",containerSize:null,imageTransform:null},c=(e=o,t)=>{switch(t.type){case"SET_TRANSFORM":if("INITIAL"===e.animationStage){const{aspectRatio:a,containerHeight:r,containerWidth:l}=t.payload,s=Object(n.a)(a),o={width:l,height:r},c={scaleX:s.width/l,scaleY:s.height/r,translateX:-1*i.a.theme.spacesPx.space12,translateY:-1*i.a.theme.spacesPx.space12};return{...e,animationStage:"SET_TRANSFORM",containerSize:o,imageTransform:c}}return e;case"START_ANIMATION":return"SET_TRANSFORM"===e.animationStage?{...e,animationStage:"START_ANIMATION",imageTransform:{scaleX:1,scaleY:1,translateX:0,translateY:0}}:e;case"FINISH_ANIMATION":return{...e,animationStage:"FINISH_ANIMATION"};default:return e}};const p={imageFill:{width:"100%",height:"100%"},imageWrapperBaseStyles:{transitionDuration:"250ms",transformOrigin:"bottom right",transitionProperty:"transform",transitionTimingFunction:"ease",position:"absolute",bottom:"0",right:"0"}};t.a=function({aspectRatio:e,imageSrc:t,onTransitionComplete:a}){const[n,u]=r.useReducer(c,o),{animationStage:m,containerSize:d,imageTransform:h}=n,b=r.useCallback((t=>{if(null!=t){const{height:a,width:r}=t.getBoundingClientRect();requestAnimationFrame((()=>{u({type:"SET_TRANSFORM",payload:{aspectRatio:e,containerHeight:a,containerWidth:r}})}))}}),[e]),y=r.useCallback((e=>{requestAnimationFrame((()=>{u({type:"START_ANIMATION"})}))}),[]),f=r.useCallback((()=>{u({type:"FINISH_ANIMATION"})}),[]);return r.useEffect((()=>{t||f()}),[t,f]),r.useEffect((()=>{"FINISH_ANIMATION"===m&&a&&a()}),[a,m]),r.useEffect((()=>{if("START_ANIMATION"===m){const e=setTimeout((()=>{f()}),300);return function(){clearTimeout(e)}}}),[m,f]),r.createElement(s.a,{ref:b,style:i.a.absoluteFill},(()=>{if(null==d||null==h||!t)return null;const e={height:d.height,width:d.width},{scaleX:a,scaleY:n,translateX:i,translateY:s}=h,o={transform:`matrix(${a}, 0, 0, ${n}, ${i}, ${s})`},c={...p.imageWrapperBaseStyles,...e,...o};return r.createElement("div",{onTransitionEnd:f,style:c},r.createElement(l.a,{ref:y,source:t,style:p.imageFill}))})())}},zCLo:function(e,t,a){"use strict";var r=a("ERkP"),n=a("wD1h"),l=a("oLZl"),i=a("rHpw"),s=a("MWbm");t.a=function(e){const t=r.useRef(null),{enabled:a,playerApi:o,playerState:c}=e;if(!a)return e.children||null;const p=e=>{o&&c&&(c.isPlaying?o.pause():o.play())},u=e=>{if(o&&c){const t=parseInt(e.key,10)/10;o.scrubToFraction(t)}};return r.createElement(n.a,{containerRef:t,enabled:!0,handlers:{[l.a.K]:p,[l.a.M]:e=>{o&&c&&(c.isMuted?o.unmute():o.mute())},[l.a.Space]:p,[l.a.C]:e=>{o&&c&&o.toggleCaptions()},[l.a.Home]:e=>{o&&c&&o.scrubToFraction(0)},[l.a[0]]:u,[l.a[1]]:u,[l.a[2]]:u,[l.a[3]]:u,[l.a[4]]:u,[l.a[5]]:u,[l.a[6]]:u,[l.a[7]]:u,[l.a[8]]:u,[l.a[9]]:u,[l.a.End]:e=>{o&&c&&o.scrubToFraction(1)}}},r.createElement(s.a,{focusable:!0,ref:t,style:i.a.absoluteFill},e.children))}}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/loaders.video.VideoPlayerDefaultUI.08369555.js.map