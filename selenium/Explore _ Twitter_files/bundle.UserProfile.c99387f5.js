(window.webpackJsonp=window.webpackJsonp||[]).push([[107],{"ll/Q":function(e,t,r){"use strict";r.r(t),r.d(t,"UserProfileScreenContainer",(function(){return Ln}));var n=r("97Jx"),a=r.n(n),s=r("ERkP"),o=r("P1r1"),i=r("hqKg"),l=r("zh9S"),c=r("0KEI"),d=r("oEGd"),u=r("RqPI"),m=r("G6rE");const h=(e,t)=>{const{location:r,match:n}=t;return n&&n.params&&n.params.screenName?n.params.screenName:r&&r.query&&r.query.screen_name&&"string"==typeof r.query.screen_name?r.query.screen_name:""},p=(e,t)=>m.e.selectByScreenName(e,h(0,t)),b=Object(m.g)([m.a]),f=Object(i.createSelector)(o.l,((e,t)=>b(e,h(0,t))),u.k,((e,t)=>t.location.pathname.includes("/intent/")),((e,t)=>m.e.selectIsUserNotFound(e,h(0,t))),((e,t)=>{const r=p(e,t);return!!r&&m.e.selectIsLoading(e,r.id_str)}),((e,t)=>m.e.selectIsUserSuspended(e,h(0,t))),((e,t)=>m.e.selectUserSuspendMessage(e,h(0,t))),((e,t)=>m.e.selectIsUserWithheld(e,h(0,t))),((e,t)=>{const{location:r}=t,{promotedTweetState:n}=r&&r.state||{},a=p(e,t);return n||a&&a.promoted_content}),h,u.u,p,((e,t)=>{const r=p(e,t);return r&&r.profile_interstitial_type?r.profile_interstitial_type:null}),u.n,((e,t,r,n,a,s,o,i,l,c,d,u,m,h,p)=>({displaySensitiveMedia:e,fetchStatus:t,isActiveCreator:r,isIntentRoute:n,isNotFound:a,isRefreshing:s,isSuspended:o,suspendMessage:i,isWithheld:l,promotedContent:c,screenName:d,superFollowersCount:u,user:m,userProfileInterstitialType:h,userLanguage:p}))),_={createLocalApiErrorHandler:Object(c.createLocalApiErrorHandlerWithContextFactory)("USER_PROFILE_SCREEN"),fetchOneUser:m.e.fetchOne,fetchOneByScreenNameWithExtraFieldsIfNeeded:m.e.createFetchOneByScreenNameWithExtraFieldsIfNeeded([m.a,m.b,m.c,m.d]),fetchSettingsIfNeeded:o.f,scribeAction:l.c};var g=Object(d.g)(f,_),E=r("txMZ"),y=r("KEM+"),w=r.n(y),v=r("aeN7"),C=r("mC9n"),S=r("s4rk"),I=r("zI2C"),k=r("6ZtA"),P=r("es0u"),F=r("v6aA"),x=r("I/ms"),O=r("rxPX"),T=r("M0jS");const N=(e,t)=>Object(T.d)(e,t.user.id_str),L=(e,t)=>{const r=T.b.select(e,t.user.id_str);return null!=r&&r.refresh_delay_secs?1e3*r.refresh_delay_secs:1e3*T.a};var B=Object(O.a)().propsFromActions((()=>({createLocalApiErrorHandler:Object(c.createLocalApiErrorHandlerWithContextFactory)("SELECT_SPACE"),fetchUsersPresence:T.b.fetchManyIfNeeded}))).propsFromState((()=>({userPresencePollingInterval:L,userSpace:N}))).withAnalytics(),M=r("B5iK");var A=r("TIdA"),U=r("rHpw"),R=r("1I0O"),$=r("jhWN"),H=r("cHvH");const D=A.a.createLayoutCache();var W=B((({analytics:e,createLocalApiErrorHandler:t,fetchUsersPresence:r,isOwnProfile:n,isWithheld:o,user:i,userPresencePollingInterval:l,userSpace:c})=>{const{featureSwitches:d,loggedInUserId:u}=s.useContext(F.a),m=!n&&o,h=m||!i.profile_image_url_https?void 0:i.profile_image_url_https,p=u&&(d.isTrue("voice_rooms_recent_search_audiospace_ring_enabled")||d.isTrue("voice_rooms_typeahead_audiospace_ring_enabled")),b=i.has_nft_avatar&&d.isTrue("responsive_web_nft_avatar"),f=c&&p,_=s.useCallback((()=>{var e;p&&(null===(e=r([i.id_str]))||void 0===e||e.catch(t({})))}),[i.id_str,p,r,t]);s.useEffect((()=>_()),[_]),s.useEffect((()=>{b&&e.scribe({element:"nft_avatar",action:"impression"})}),[]),function(e,t){const r=s.useRef();s.useEffect((()=>{r.current=e}),[e]),s.useEffect((()=>{if(r.current&&t){const e=new M.b(t).interval(r.current);return e.start(),()=>e.stop()}}),[t])}((()=>_()),p?l:void 0);const g=b?"nft":"photo",E=m||f?void 0:{pathname:`/${i.screen_name}/${g}`},y=t=>{e.scribe({element:b?"nft_avatar":"avatar",action:"click"})};return s.createElement(H.a,null,(({windowWidth:e})=>s.createElement(s.Fragment,null,(e=>{const t=e>=U.a.theme.breakpoints.medium,r={imageLayoutCache:D,link:E,onClick:y,size:"custom",uri:h,screenName:i.screen_name};return c&&f?s.createElement(R.a,a()({},r,c,{style:x.a.avatar})):s.createElement($.a,a()({},r,{borderColor:"cellBackground",borderWidth:t?"large":"medium",style:x.a.avatar}))})(e))))})),j=r("RCZO"),z=r("MWbm"),V=r("n4Eu"),q=r("cm6r"),G=r("A91F"),J=r("9Xij");const K=A.a.createLayoutCache();var Q=({isOwnProfile:e,isWithheld:t,user:r})=>{const n=!e&&t,a=r.profile_banner_extensions_media_color&&r.profile_banner_extensions_media_color.palette,o=a&&V.a.get(a),i=o?Object(j.g)(o):U.a.theme.colors.gray200;return!n&&r.profile_banner_url?s.createElement(q.a,{accessibilityHidden:!0,link:`/${r.screen_name}/header_photo`},s.createElement(A.a,{accessibilityLabel:"",aspectMode:G.a.exact(U.a.theme.aspectRatios.profileBanner),backgroundColor:i,image:r.profile_banner_url,layoutCache:K})):s.createElement(z.a,{style:x.a.banner},s.createElement(J.a,{ratio:U.a.theme.aspectRatios.profileBanner,style:{backgroundColor:i}}))},Y=r("3nOA"),X=r("I57f"),Z=r("uIZp"),ee=r("3XMw"),te=r.n(ee),re=r("SOvA"),ne=r("vYiB"),ae=r("Y49K"),se=r("Irs7"),oe=r("/yvb"),ie=r("ACHU"),le=r("rsoE"),ce=r("vMjK");const de=te.a.h63a5c3b,ue=s.createElement(ie.a,null);class me extends s.PureComponent{constructor(...e){super(...e),w()(this,"_renderUserMenu",(e=>{const{promotedContent:t,user:r}=this.props;return s.createElement(ce.b,{onClose:e,promotedContent:t,user:r,view:"profile"})}))}render(){const{buttonStyle:e}=this.props;return s.createElement(oe.a,{accessibilityLabel:de,hoverLabel:{label:de},icon:ue,renderMenu:this._renderUserMenu,style:e,testID:le.a.userActions,type:"primaryOutlined"})}}var he=r("pHkl");const pe=te.a.g7088266,be=te.a.gd7acb84,fe=te.a.b7636014,_e=s.createElement(re.a,null),ge=U.a.create((e=>({buttons:{maxWidth:"100%",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-end",flexWrap:"wrap"},button:{marginEnd:e.spaces.space8,marginBottom:e.spaces.space12},lastButton:{marginBottom:e.spaces.space12}})));var Ee=({history:e,isWithheld:t,loggedInUserId:r,onFollowButtonOffscreen:n,promotedContent:a,user:o})=>{const i=Object(se.b)(),l=o.id_str===r,c=o.blocked_by,d=o.blocking,u=t&&!l,m=o.can_dm&&r&&!d&&!c&&!u,h=r&&o&&!l&&!u,p=o.following&&r&&!d&&!c&&!t,b=o.default_profile_image&&!o.description&&!o.profile_banner_url;return s.createElement(z.a,{style:ge.buttons},r&&l?s.createElement(oe.a,{link:b?"/i/flow/setup_profile":"/settings/profile",style:ge.lastButton,type:"primaryOutlined"},b?be:pe):null,h&&s.createElement(me,{buttonStyle:ge.button,promotedContent:a,user:o}),!l&&m&&s.createElement(oe.a,{accessibilityLabel:fe,hoverLabel:{label:fe},icon:_e,onPress:()=>{if(r){const t=Object(Y.a)(o.id_str,r);i.scribe({element:"message",action:"click",data:{conversation_id:t,conversation_participant_count:2,conversation_type:he.g.ONE_TO_ONE,inbox_type:he.c.NOT_AVAILABLE}}),e.push(`/messages/${t}`)}},style:ge.button,testID:ae.a.sendDMFromProfile,type:"primaryOutlined"}),!l&&p&&s.createElement(X.a,{allowPromptForPush:!0,isFollowing:o.notifications,style:ge.button,userId:o.id_str}),!l&&!c&&!u&&s.createElement(ne.a,{onOffscreenChange:n},s.createElement(Z.a,{promotedContent:a,style:ge.lastButton,userId:o.id_str})))},ye=r("tOzk"),we=r("YeIG"),ve=r("Je1/"),Ce=r("uLiA"),Se=r("EJJl"),Ie=r("WWyu"),ke=r("LhSm"),Pe=r("t62R"),Fe=r("GWvE"),xe=r("Lsrn"),Oe=r("k/Ka");const Te=(e={})=>Object(Oe.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[xe.a.root,e.style],viewBox:"0 0 24 24"},s.createElement("g",null,s.createElement("path",{d:"M19.75 6.357h-2.426V4.73c0-1.23-1.01-2.23-2.25-2.23H8.927c-1.24 0-2.25 1-2.25 2.23v1.627H4.25c-1.24 0-2.25 1-2.25 2.23V19.27c0 1.23 1.01 2.23 2.25 2.23h15.5c1.24 0 2.25-1 2.25-2.23V8.587c.002-1.23-1.008-2.23-2.25-2.23zM8.176 4.73c0-.41.337-.744.75-.744h6.144c.414 0 .75.333.75.743v1.627H8.178V4.73zM4.25 7.842h15.5c.413 0 .75.333.75.743v3h-17v-3c0-.41.337-.743.75-.743zm15.5 12.17H4.25c-.413 0-.75-.333-.75-.742v-6.197h17v6.198c0 .41-.338.744-.75.744z"})));Te.metadata={width:24,height:24};var Ne=Te,Le=r("KrGU"),Be=r("I/9y"),Me=r("YUdS"),Ae=r("EjKN");const Ue=te.a.a1ea2f12,Re=te.a.g8191e77,$e=e=>{const{day:t,month:r}=e;if(!t||!r)return;const n=new Date;return r===n.getMonth()+1&&t===n.getDate()},He=U.a.create((e=>({description:{display:"block",marginBottom:e.spaces.space12},details:{display:"block",marginBottom:e.spaces.space12},detailsText:{lineHeight:e.spaces.space12},noCursor:{cursor:"inherit"}})));var De=({isOwnProfile:e,professionalCategoryName:t,user:r})=>{var n,a,o;const i=s.useRef(),l=Object(se.b)(),c=e?{page:"me"}:{page:"profile"},d=null===(n=r.entities)||void 0===n||null===(a=n.url)||void 0===a||null===(o=a.urls)||void 0===o?void 0:o[0],u=r.birthdate;return s.createElement(s.Fragment,null,r.description?s.createElement(z.a,{style:He.description},s.createElement(Se.a,{description:r.description,disableTranslation:!r.is_profile_translatable,entities:r.entities,testID:Ce.a.userDescription,userId:r.id_str,withheldDescription:r.withheld_description,withheldEntities:r.withheld_entities})):null,s.createElement(z.a,{style:He.details},s.createElement(Pe.b,{style:He.detailsText,testID:Ce.a.profileHeaderItems},t?s.createElement(ve.a,{Icon:Ne,onPress:()=>{l.scribe({...c,...C.b()})},style:He.noCursor,testID:Ce.a.userProfessionalCategory,withInteractiveStyling:!1},s.createElement(Pe.b,null,t)):null,r.location&&!Object(Fe.a)(r.location)?s.createElement(ve.a,{Icon:Le.a,testID:Ce.a.userLocation},s.createElement(Pe.b,null,r.location)):null,d&&d.url?s.createElement(ve.a,{Icon:Be.a,link:{pathname:d.url,external:!0},testID:Ce.a.userUrl},d.display_url||d.url):null,!u||Object(we.a)(u)||u.visibility&&"self"===u.visibility.toLowerCase()&&u.year_visibility&&"self"===u.year_visibility.toLowerCase()?null:$e(u)?s.createElement(s.Fragment,null,s.createElement(ve.a,{Icon:Me.a,onPress:()=>{i.current&&i.current.launch()}},e?Ue:Re),s.createElement(ye.a,{setRef:e=>{i.current=e}})):s.createElement(ve.a,{Icon:Ae.a,testID:Ce.a.userBirthdate},s.createElement(Ie.a,{birthdate:u,withBornPrefixText:!0})),s.createElement(ke.a,{joinDate:r.created_at}))))},We=r("mN6z"),je=r("W27K"),ze=r("1YZw");var Ve=Object(O.a)().propsFromActions((()=>({addToast:ze.b,createLocalApiErrorHandler:Object(c.createLocalApiErrorHandlerWithContextFactory)("USER_PROFILE_HEADER"),unmute:m.e.unmute}))),qe=r("8Usl"),Ge=r("eb3s"),Je=r("P2xQ");const Ke=te.a.cef4e8cf,Qe=te.a.ec294e62,Ye=te.a.df422dfe,Xe=U.a.create((e=>({mute:{marginVertical:e.spaces.space12},unmuteButton:{cursor:"pointer"}})));var Ze=Ve((({addToast:e,createLocalApiErrorHandler:t,unmute:r,user:n})=>{const[a,o]=s.useState(!1),{screen_name:i}=n;return s.createElement(s.Fragment,null,s.createElement(Pe.b,{color:"gray700",style:Xe.mute},Ye,"Â ",s.createElement(Pe.b,{accessibilityRole:"button",color:"link",onPress:()=>{o(!0)},style:Xe.unmuteButton,testID:qe.a.unmuteLink,withInteractiveStyling:!0},Je.g)),a?s.createElement(Ge.a,{confirmButtonLabel:Je.g,headline:Ke({screenName:i}),onCancel:()=>{o(!1)},onConfirm:()=>{o(!1),r(n.id_str).then((()=>e({text:Object(Je.d)(n.screen_name)})),t({showToast:!0}))},text:Qe}):null)})),et=r("RgK2"),tt=r.n(et),rt=r("rcen"),nt="UserName",at=r("X04g"),st=r("A7Fw");const ot=te.a.e839db39,it=te.a.b74bd6c6,lt=te.a.f15bfdb3,ct=te.a.i859a9d3,dt=U.a.create((e=>({content:{padding:e.spaces.space20},icon:{color:e.colors.badgeColor,fontSize:e.fontSizes.title2},button:{marginTop:e.spaces.space32},text:{marginTop:e.spaces.space12,textAlign:"center"}})));var ut=({dismiss:e,type:t})=>{const r=Object(se.b)();s.useEffect((()=>{r.scribe({component:"blue_badge_education_context",action:"show"})}),[r]);const n=s.useCallback((()=>{r.scribe({component:"blue_badge_education_context",element:"support_url",action:"click"})}),[r]);return s.createElement(z.a,{style:dt.content},s.createElement(st.a,{style:dt.icon}),s.createElement(Pe.b,{size:"title4",style:dt.text,weight:"bold"},lt),s.createElement(Pe.b,{color:"gray700",style:dt.text},it," ",s.createElement(Pe.b,{link:"https://help.twitter.com/managing-your-account/about-twitter-verified-accounts",onClick:n},ct)),"sheet"===t?s.createElement(oe.a,{onClick:e,style:dt.button,type:"primaryOutlined"},ot):null)},mt=r("jV+4"),ht=r("ir4X");var pt=({isOwnProfile:e,isWithheld:t,namespace:r,user:n})=>{var o;const i=Object(se.b)(),{featureSwitches:l}=s.useContext(F.a),c=t?tt.a:{isProtected:!!n.protected,isVerified:!!n.verified,translatorType:n.translator_type},d=n.name&&n.screen_name&&!(t&&!e),u=d?n.name:`@${n.screen_name}`,m=s.useCallback(((e,t)=>s.createElement(ut,{dismiss:e,type:t})),[]),h=l.isTrue("identity_verification_educational_prompt_enabled"),p=l.isTrue("account_taxonomy_automated_label_enabled");let b=n.highlightedLabel;const f=()=>{const e={items:[{id:n.id_str,name:n.screen_name,item_type:at.a.ItemType.USER}]};i.scribe({...r,element:"automated_label",action:"click",data:e})};if("AutomatedLabel"===(null===(o=n.highlightedLabel)||void 0===o?void 0:o.userLabelType)){var _,g,E;const e=null!==(_=n.highlightedLabel)&&void 0!==_&&null!==(g=_.longDescription)&&void 0!==g&&g.entities?s.createElement(rt.a,{entities:n.highlightedLabel.longDescription.entities,onEntityClick:f,text:n.highlightedLabel.longDescription.text}):(null===(E=n.highlightedLabel)||void 0===E?void 0:E.description)||null;b=p?{...n.highlightedLabel,description:e}:null}return s.createElement(z.a,{style:x.a.names,testID:nt},s.createElement(mt.a,a()({},c,{badgeContext:"account",name:u,nameSize:"headline1",renderVerifiedBadgeContext:h?m:void 0,screenName:d?n.screen_name:void 0,weight:"heavy",withFollowsYou:n.followed_by&&!t,withNameWrap:!0,withStackedLayout:!0})),b?s.createElement(ht.a,{label:b}):null)},bt=r("W55q"),ft=r("YeSc");const _t={page:"profile",section:void 0,component:"newsletter_module"};var gt=Object(O.a)().propsFromState((()=>({newsletter:ft.f}))).adjustStateProps((({newsletter:e})=>{var t,r;const n=null==e||null===(t=e.data)||void 0===t?void 0:t.revue_account.account_settings.twitter_profile_subscriptions_enabled;return{isSubscribed:(null==e||null===(r=e.context)||void 0===r?void 0:r.user_subscription_status)===bt.c.Subscribed,profileUrl:null==e?void 0:e.data.revue_account.profile_info.profile_url,revueAccountId:null==e?void 0:e.config.revue_account_id,showNewsletterSubscription:n}})).propsFromActions((()=>({createLocalApiErrorHandler:Object(c.createLocalApiErrorHandlerWithContextFactory)("NEWSLETTER_PROFILE_HEADER"),fetchUserBizProfileIfNeeded:ft.c}))).withAnalytics(_t);var Et=Object(O.a)().propsFromState((()=>({newsletter:ft.f}))).adjustStateProps((({newsletter:e})=>{var t,r,n,a,s,o,i,l,c,d,u,m,h,p,b,f,_;const g=null==e||null===(t=e.data)||void 0===t||null===(r=t.revue_account)||void 0===r||null===(n=r.profile_info)||void 0===n||null===(a=n.profile_image)||void 0===a||null===(s=a.image_variants)||void 0===s?void 0:s.map((e=>({height:e.height,uri:e.url,width:e.width})));return{description:null==e||null===(o=e.data)||void 0===o||null===(i=o.revue_account)||void 0===i||null===(l=i.newsletter_info)||void 0===l?void 0:l.description,imageVariants:g,originalImage:null==e||null===(c=e.data)||void 0===c||null===(d=c.revue_account)||void 0===d||null===(u=d.profile_info)||void 0===u||null===(m=u.profile_image)||void 0===m?void 0:m.original_image,title:null==e||null===(h=e.data)||void 0===h||null===(p=h.revue_account)||void 0===p||null===(b=p.newsletter_info)||void 0===b?void 0:b.title,subscriberCount:null==e||null===(f=e.data)||void 0===f||null===(_=f.account_analytics)||void 0===_?void 0:_.subscriber_count}})).propsFromActions((()=>({createLocalApiErrorHandler:Object(c.createLocalApiErrorHandlerWithContextFactory)("NEWSLETTER_SUMMARY")}))),yt=r("vbJ7");const wt=te.a.d58baa7e,vt=e=>{const{description:t,isMobileLayout:r,originalImage:n,subscriberCount:a,title:o,withThumbnail:i}=e,l=parseInt(a,10)||0,c=wt(l),d=r?"subtext2":"body";return s.createElement(s.Fragment,null,s.createElement(z.a,{style:Ct.contentContainer},i&&n?s.createElement(z.a,{style:[Ct.newsletterImageContainer,r?Ct.newsletterImageContainerMobile:void 0]},s.createElement(J.a,{ratio:1},s.createElement(A.a,{accessibilityLabel:t||"",aspectMode:G.a.SQUARE,image:n}))):null,s.createElement(z.a,{style:[Ct.newsletterInfoContainer,r?Ct.mobileNewsletterInfoContainer:void 0]},s.createElement(Pe.b,{align:"left",numberOfLines:1,size:d,style:r?Ct.newsletterFieldMobile:Ct.newsletterField,weight:"bold"},o),s.createElement(Pe.b,{align:"left",color:"gray700",numberOfLines:2,size:d,style:[Ct.newsletterDescription,r?Ct.newsletterFieldMobile:Ct.newsletterField]},t),a?s.createElement(Pe.b,{align:"left",color:"gray700",size:d,style:r?Ct.newsletterFieldMobile:Ct.newsletterField},s.createElement(te.a.I18NFormatMessage,{$i18n:"ee512b37",formattedCount:c,count:l})):null)))};vt.defaultProps={withThumbnail:!0};const Ct=U.a.create((e=>({contentContainer:{flexDirection:"row"},newsletterImageContainer:{borderColor:yt.a.hexToCss(U.a.theme.colors.borderColor,.7),borderRadius:e.borderRadii.large,borderWidth:e.borderWidths.small,height:`calc(${e.spaces.space48} * 2)`,overflow:"hidden",width:`calc(${e.spaces.space48} * 2)`},newsletterImageContainerMobile:{height:`calc((${e.spaces.space40} * 2) + ${e.spaces.space4})`,width:`calc((${e.spaces.space40} * 2) + ${e.spaces.space4})`},newsletterInfoContainer:{flex:6,paddingLeft:e.spaces.space12,paddingRight:e.spaces.space8,paddingTop:e.spaces.space8,textAlign:"left"},mobileNewsletterInfoContainer:{paddingLeft:e.spaces.space8,paddingRight:e.spaces.space4},newsletterDescription:{overflow:"hidden"},newsletterField:{lineHeight:e.spaces.space20},newsletterFieldMobile:{lineHeight:`calc(${e.spaces.space16} + ${e.spaces.space1})`}})));var St=Et(vt),It=r("Rp9C"),kt=r("I4+6");const Pt=te.a.d834aec4,Ft=te.a.ab0deccf,xt=te.a.caeab0f7,Ot=U.a.create((e=>({actionButton:{margin:"auto"},buttonContainer:{alignItems:"stretch",display:"flex",height:`calc(${e.spaces.space40} + ${e.spaces.space12} - ${e.spaces.space1})`,width:"100%"},contentContainer:{paddingHorizontal:e.spaces.space4,paddingVertical:e.spaces.space4},darkModeBackground:{backgroundColor:e.colors.gray0},defaultBackground:{backgroundColor:e.colors.cellBackground},moduleContainer:{borderRadius:e.borderRadii.xLarge,boxShadow:"0 2px 13px 0 rgba(0, 0, 0, 0.1)",marginBottom:e.spaces.space16,marginHorizontal:e.componentDimensions.gutterHorizontal,overflow:"hidden"},mobileButtonContainer:{height:`calc(${e.spaces.space40} + ${e.spaces.space4})`},moduleLabel:{marginHorizontal:e.componentDimensions.gutterHorizontal,marginBottom:e.spaces.space8},summaryContainer:{borderBottomWidth:e.borderWidths.small,borderColor:e.colors.gray50}})));var Tt=gt((e=>{const{featureSwitches:t}=s.useContext(F.a),r=t.isTrue("responsive_web_newsletters_profile_subscribe_enabled"),{analytics:n,createLocalApiErrorHandler:a,fetchUserBizProfileIfNeeded:o,isSubscribed:i,profileUrl:l,revueAccountId:c,screenName:d,showNewsletterSubscription:u,user:m,userId:h}=e,p=r&&u,b=s.useCallback((e=>{if(p){const{is_user_follows_viewer:t,is_viewer_follows_user:r}=It.a.getUserItem(m),a=[{id:c,is_viewer_follows_user:r,is_user_follows_viewer:t}];n.scribe({action:e,element:i?"start_reading_btn":"subscribe_btn",data:{items:a}})}}),[n,i,c,p,m]);s.useEffect((()=>{r&&o(h).catch(a())}),[a,o,r,h]),s.useEffect((()=>{b("impression")}),[p]);const f=e=>s.createElement(s.Fragment,null,s.createElement(z.a,{style:Ot.moduleLabel},s.createElement(Pe.b,{size:"body",weight:"bold"},Pt)),(e=>{const t=i?l:`/i/newsletters/subscribe/${d}`,r=i?xt:Ft,n=U.a.isDarkMode()?U.a.theme.colors.gray50:U.a.theme.colors.gray0,a=kt.a.generate({backgroundColor:U.a.theme.colors.transparent,color:U.a.theme.colors.primary,customFocusBackgroundColor:n,customHoverBackgroundColor:n,customPressedBackgroundColor:n});return s.createElement(q.a,{interactiveStyles:a,link:t,onPress:()=>b("click"),style:[Ot.moduleContainer,U.a.isDarkMode()?Ot.darkModeBackground:Ot.defaultBackground]},s.createElement(s.Fragment,null,s.createElement(z.a,{style:[Ot.contentContainer,Ot.summaryContainer]},s.createElement(St,{isMobileLayout:e,userId:h,withThumbnail:!0})),s.createElement(z.a,{style:[Ot.buttonContainer,e?Ot.mobileButtonContainer:void 0]},s.createElement(Pe.b,{align:"center",link:t,size:"body",style:Ot.actionButton,weight:"bold",withInteractiveStyling:!1},r))))})(e));return p?s.createElement(H.a,null,(({windowWidth:e})=>{const t=e<=U.a.theme.breakpoints.small;return f(t)})):null})),Nt=r("z+ta"),Lt=r("7JQg"),Bt=r("7wqI"),Mt=r("Jkc4"),At=r("wCd/");var Ut=({isActiveCreator:e,isOwnProfile:t,superFollowersCount:r,user:n})=>{const{followers_count:a,friends_count:o,screen_name:i}=n;return s.createElement(Mt.a,null,(l=>s.createElement(At.a,{followersCount:a,friendsCount:o,onPress:l(),screenName:i,superFollowersCount:e&&t?r:void 0,withLink:Object(Bt.b)({isOwnProfile:t,user:n})})))};const Rt={page:"profile",section:"header"};class $t extends s.Component{constructor(e,t){super(e,t),w()(this,"_handleRemoveClusterFollow",(()=>{this.setState({shouldShowClusterFollow:!1})})),this.state={shouldShowClusterFollow:!1}}shouldComponentUpdate(e,t){return!Object(We.a)(t,this.state)||!Object(We.a)(e,this.props)}componentDidUpdate(e){!0===this.props.user.following&&!1===e.user.following&&this.setState({shouldShowClusterFollow:!0}),this.props.user.id_str!==e.user.id_str&&this.setState({shouldShowClusterFollow:!1})}render(){const{isActiveCreator:e,isWithheld:t,loggedInUserId:r,professionalCategoryName:n,superFollowersCount:a,user:o}=this.props,i=this._isOwnProfile(),l=!i&&(o.blocking||o.blocked_by||t),c=!i&&(o.blocked_by||t),d=!r||i||o.blocking||o.blocked_by||t||o.protected&&!o.following,u=!r||o.blocking||o.blocked_by||t||o.protected&&!o.following;return s.createElement(Lt.b,{namespace:Rt},s.createElement(z.a,null,s.createElement(Q,{isOwnProfile:i,isWithheld:t,user:o}),s.createElement(z.a,{style:[x.a.content,Ht.content,l&&x.a.withheld]},s.createElement(z.a,{style:x.a.avatarAndButton},s.createElement(W,{isOwnProfile:i,isWithheld:t,user:o}),s.createElement(Ee,{history:this.props.history,isWithheld:t,loggedInUserId:r,onFollowButtonOffscreen:this.props.onFollowButtonOffscreen,promotedContent:this.props.promotedContent,user:o})),s.createElement(pt,{isOwnProfile:i,isWithheld:t,namespace:Rt,user:o}),l?null:s.createElement(De,{isOwnProfile:i,professionalCategoryName:n,user:o}),c?null:s.createElement(Ut,{isActiveCreator:e,isOwnProfile:i,superFollowersCount:a,user:o}),d?null:s.createElement(z.a,{style:Ht.marginTopXSmall},s.createElement(je.a,{userId:o.id_str,userScreenName:o.screen_name})),o.muting?s.createElement(Ze,{user:o}):null),u?null:s.createElement(Tt,{screenName:o.screen_name,user:o,userId:o.id_str}),this.state.shouldShowClusterFollow?this._renderProfileClusterFollow():null))}_isOwnProfile(){const{loggedInUserId:e,user:{id_str:t}}=this.props;return e===t}_renderProfileClusterFollow(){const{user:e}=this.props;return s.createElement(Nt.a,{onRemoveClusterFollow:this._handleRemoveClusterFollow,userId:e.id_str})}}w()($t,"contextType",F.a);const Ht=U.a.create((e=>({content:{marginBottom:e.spaces.space16},marginTopXSmall:{marginTop:e.spaces.space12}})));var Dt=$t,Wt=r("8UdT"),jt=r("dwig"),zt=r("GOQE"),Vt=r("kGix"),qt=r("v//M"),Gt=r("0+qk"),Jt=r("drnk"),Kt=r("9Bb1"),Qt=r("iFPY"),Yt=r("5S/X"),Xt=r("oQhu"),Zt=r("xZGM");const er=(e,t)=>Object(Zt.y)(e,Zt.u);var tr=Object(O.a)().propsFromState((()=>({shouldShowEducation:er}))).propsFromActions((()=>({addEducationFlag:()=>Object(Zt.v)(Zt.u)}))).withAnalytics({section:"nft_nux_consumption"}),rr=r.p+"nft_education_graphic.72be3745.png",nr=r("Wms4"),ar=r("feu+");const sr=(e={})=>Object(Oe.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[xe.a.root,e.style],viewBox:"0 0 24 24"},s.createElement("g",null,s.createElement("path",{d:"M15.65 9.69c-.29-2.19-1.64-3.5-3.61-3.5S8.72 7.5 8.43 9.69c-.21 1.54 0 2.65.64 3.38.76.88 1.93 1 2.97 1 1.04 0 2.21-.12 2.97-1 .48-.55.72-1.31.72-2.31 0-.33-.03-.69-.08-1.07zm-1.77 2.4c-.29.33-.84.48-1.84.48s-1.55-.15-1.85-.48c-.33-.38-.42-1.12-.28-2.2.14-1 .61-2.2 2.13-2.2 1.51 0 1.99 1.2 2.13 2.19.14 1.09.05 1.83-.29 2.21z"}),s.createElement("path",{d:"M22.95 10.87l-4.5-7.75C18.05 2.43 17.3 2 16.5 2h-9c-.8 0-1.55.43-1.95 1.12l-4.5 7.75c-.4.7-.4 1.56 0 2.26l4.5 7.75C5.95 21.57 6.7 22 7.5 22h9c.8 0 1.55-.43 1.95-1.12l4.5-7.75c.4-.7.4-1.56 0-2.26zM16.5 20.5h-9c-.46 0-.37-.18-.37-.18.7-2.05 2.66-3.42 4.9-3.42 2.23 0 4.2 1.37 4.89 3.42 0 0 .12.19-.42.18zm5.15-8.12l-3.75 6.46c-1.14-2.1-3.38-3.44-5.87-3.44-2.52 0-4.77 1.36-5.91 3.48l-3.77-6.5c-.13-.24-.13-.52 0-.76l4.5-7.75c.13-.23.38-.37.65-.37h9c.27 0 .52.14.65.37l4.5 7.75c.13.24.13.52 0 .76z"})));sr.metadata={width:24,height:24};var or=sr;const ir=(e={})=>Object(Oe.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[xe.a.root,e.style],viewBox:"0 0 24 24"},s.createElement("g",null,s.createElement("path",{d:"M2.4 16.6c-.2 0-.4-.1-.5-.2-.3-.3-.3-.8 0-1.1L7 10.2c.3-.3.8-.3 1.1 0s.3.8 0 1.1l-5.2 5.2c-.2.1-.3.1-.5.1zm.3 6.5c-.2 0-.4-.1-.5-.2-.3-.3-.3-.8 0-1.1l5.4-5.4c.3-.3.8-.3 1.1 0s.3.8 0 1.1l-5.4 5.4c-.2.1-.4.2-.6.2zm6.9-.6c-.2 0-.4-.1-.5-.2-.3-.3-.3-.8 0-1.1l4.8-4.8c.3-.3.8-.3 1.1 0s.3.8 0 1.1l-4.8 4.8c-.2.1-.4.2-.6.2z"}),s.createElement("path",{d:"M22.384 6.56c-.118-.368-.46-.62-.848-.62h-4.464l-1.51-4.427c-.125-.358-.462-.602-.844-.602-.383 0-.72.243-.843.603l-1.51 4.426H7.9c-.387 0-.73.25-.85.617-.117.37.017.77.333.993l3.566 2.528-1.52 4.45c-.125.363 0 .767.312.996.313.23.73.233 1.047.012l3.93-2.79 3.93 2.79c.155.11.336.164.517.164.188 0 .374-.06.53-.175.31-.23.436-.633.31-.997L18.49 10.08l3.566-2.527c.31-.226.446-.625.328-.994z"})));ir.metadata={width:24,height:24};var lr=ir;const cr=te.a.ebf5ec25,dr=te.a.c405ac8d,ur=te.a.a893d601,mr=te.a.eb023c93,hr=te.a.ad5dfe8f,pr=te.a.gc65c0a9,br=te.a.d17e8aa3,fr=te.a.ff9c6943,_r=te.a.i859a9d3,gr=U.a.create((e=>({heading:{marginTop:e.spaces.space16,marginBottom:e.spaces.space12},iconContainer:{flexDirection:"row",marginVertical:e.spaces.space12},noMarginTop:{marginTop:0},reducedMarginBottom:{marginBottom:e.spaces.space4},icon:{color:e.colors.teal300,marginRight:e.spaces.space12,fontSize:e.spaces.space24,minWidth:e.spaces.space24},label:{backgroundColor:e.colors.gray50,paddingHorizontal:e.spaces.space8,paddingVertical:e.spaces.space12},labelIcon:{color:e.colors.teal500,marginRight:e.spaces.space4},image:{width:"100%"},learnMore:{marginTop:e.spaces.space16},interstitialContent:{marginBottom:e.spaces.space16}})));var Er=tr((({addEducationFlag:e,analytics:t,onEducationSheetDismiss:r,shouldShowEducation:n})=>{const{featureSwitches:a}=s.useContext(F.a),o=n&&!0===a.getValueWithoutScribeImpression("responsive_web_nft_avatar"),i=o&&a.getStringValue("responsive_web_nft_avatar_help_link")||"https://help.twitter.com/managing-your-account/nfts-on-twitter",l=()=>{r(),e()};s.useEffect((()=>(o&&t.scribe({action:"impression"}),l)),[o]);const c=()=>{t.scribe({element:"learn_more",action:"click"})};return o?s.createElement(ar.a,{accessibilityRole:"dialog",actionLabel:ur,contentStyle:gr.interstitialContent,graphic:()=>s.createElement(z.a,{style:gr.image},s.createElement(A.a,{accessibilityLabel:"",aspectMode:G.a.exact(2.5),image:rr})),graphicDisplayMode:"illustrationFullWidth",headline:dr,isFullHeightOnMobile:!0,onAction:()=>{t.scribe({element:"ok_button",action:"click"}),l()},onClose:l,subtext:s.createElement(z.a,null,s.createElement(z.a,null,s.createElement(Pe.b,{color:"normal",size:"headline2",style:gr.heading,weight:"bold"},mr),s.createElement(Pe.b,null,hr)),s.createElement(z.a,null,s.createElement(Pe.b,{color:"normal",size:"headline2",style:gr.heading,weight:"bold"},pr),s.createElement(z.a,{style:gr.iconContainer},s.createElement(or,{style:gr.icon}),s.createElement(Pe.b,null,fr)),s.createElement(z.a,{style:[gr.iconContainer,gr.reducedMarginBottom]},s.createElement(Be.a,{style:gr.icon}),s.createElement(Pe.b,null,br)),s.createElement(z.a,{style:[gr.iconContainer,gr.noMarginTop]},s.createElement(z.a,{style:gr.icon}),s.createElement(nr.a,{style:gr.label},s.createElement(lr,{style:gr.labelIcon}),s.createElement(Pe.b,{color:"normal",weight:"bold"},cr)))),s.createElement(Pe.b,{align:"center",color:"normal",link:i,onPress:c,style:gr.learnMore,testID:"learnMore",weight:"bold"},_r)),useBrandedActionButtons:!1,withCloseButton:!0}):null})),yr=r("AJXH"),wr=r("rJoH"),vr=r("Y6L+"),Cr=r("jS2K"),Sr=r("IG4P");class Ir extends s.Component{shouldComponentUpdate(e){return!Object(We.a)(e,this.props)}render(){const{fullUser:e,shouldDisplayUserActionSheet:t}=this.props;return s.createElement(z.a,null,this._renderBanner(),s.createElement(z.a,{style:[x.a.content,x.a.withheld]},s.createElement(z.a,{style:x.a.avatarAndButton},this._renderAvatar(),s.createElement(z.a,{style:x.a.buttonAffordance}),t&&e&&s.createElement(me,{buttonStyle:x.a.menuSheetButton,user:e})),this._renderNames()))}_renderAvatar(){return s.createElement(H.a,null,(({windowWidth:e})=>{const t=e>=U.a.theme.breakpoints.medium;return s.createElement(z.a,{accessibilityState:{hidden:!0},style:x.a.avatar},s.createElement($.a,{accessibilityHidden:!0,borderColor:"cellBackground",borderWidth:t?"large":"medium",focusable:!1,size:"custom"}))}))}_renderBanner(){return s.createElement(z.a,{style:x.a.banner},s.createElement(J.a,{ratio:U.a.theme.aspectRatios.profileBanner}))}_renderNames(){const{fullUser:e,restrictedUser:t}=this.props,r=e||t,n=r.name&&r.screen_name,a=n?r.name:`@${r.screen_name}`;return s.createElement(z.a,{style:x.a.names},s.createElement(mt.a,{name:a,nameSize:"headline1",screenName:n?r.screen_name:void 0,withStackedLayout:!0}))}}var kr=r("wytG"),Pr=r("VS6U"),Fr=r("muX9");const xr=({screenName:e})=>{const t=JSON.stringify({"@context":"http://schema.org","@type":"ProfilePage",name:e,creativeWorkStatus:"Suspended"},null,2);return s.createElement(Fr.a,{script:[{type:"application/ld+json",innerHTML:t}]})};var Or=r("ipry"),Tr=r("E4zi");const Nr=({user:e})=>{var t,r,n;const a=null===(t=e.entities)||void 0===t||null===(r=t.url)||void 0===r||null===(n=r.urls)||void 0===n?void 0:n[0],o={"@context":"http://schema.org","@type":"ProfilePage",dateCreated:e.created_at,author:Object(Tr.a)(e)};return a&&(o.relatedLink=[a.url,a.expanded_url]),s.createElement(Fr.a,{script:[{type:"application/ld+json",innerHTML:JSON.stringify(o,null,2)}]})};var Lr=r("Qayx"),Br=r("G8HL"),Mr=r("mw9i"),Ar=r("zfvc"),Ur=r("FIs5"),Rr=r("Q0VY"),$r=r("FiRh"),Hr=r("0yYu"),Dr=r("k/OQ"),Wr=r("zCf4");const jr=te.a.fa98627a,zr=te.a.a2811f96,Vr=te.a.c6ea308b,qr=te.a.d67658c0,Gr=te.a.ccc9153f,Jr=te.a.bab1f8b0,Kr=te.a.a52b03a5,Qr=te.a.cc3c6989,Yr=te.a.add55c97,Xr=te.a.d7b8eba9,Zr=te.a.c0098d49,en=te.a.c4af3561,tn=te.a.dbcaaab5,rn=te.a.hf162fb6,nn=te.a.ad7b2b38,an=te.a.f19b4073,sn=te.a.ha62da97,on=te.a.ica87fde,ln=te.a.e79ed125,cn=te.a.g8475f82,dn=te.a.c9a1cb5d,un=te.a.e7b201dd,mn=te.a.d09e12c4,hn=te.a.gbf342a4,pn=te.a.eeab4adf,bn=te.a.i144ee20,fn=te.a.j58e7b00,_n=te.a.d834ab9c,gn={section:"profile_interstitial"},En=Object(kr.a)((()=>Promise.all([r.e(0),r.e(107)]).then(r.bind(null,"8KtR")))),yn=Object(kr.a)((()=>Promise.all([r.e(0),r.e(107)]).then(r.bind(null,"ivpD")))),wn=Object(kr.a)((()=>Promise.all([r.e(0),r.e(107)]).then(r.bind(null,"ylAD")))),vn="likes",Cn="media",Sn="reactions",In="superfollows",kn="with_replies",Pn=36e5,Fn=Object(Xt.a)((e=>()=>({defaultText:e})));class xn extends s.Component{constructor(e,t){super(e,t),w()(this,"_safetyModeViolatorExperienceEnabled",this.context.featureSwitches.isTrue("rito_safety_mode_blocked_profile_enabled")),w()(this,"_safetyModeUserExperienceEnabled",this.context.featureSwitches.isTrue("rito_safety_mode_features_enabled")),w()(this,"_shouldEnableProfessionalCategoryLabelViewing",this.context.featureSwitches.isTrue("responsive_web_category_label_viewing_enabled")),w()(this,"_shouldEnableProfessionalCategoryLabelHoldback",this.context.featureSwitches.isTrue("responsive_web_professional_journeys_holdback_enabled")),w()(this,"_shouldEnableProfessionalCategoryLabelDisplaySwitch",this.context.featureSwitches.isTrue("responsive_web_edit_professional_profile_enabled")),w()(this,"_renderContainer",(()=>{const{fetchStatus:e,isNotFound:t,isRefreshing:r,isSuspended:n,screenName:a}=this.props,o=n||t;return s.createElement(Sr.a,{isRefreshing:r,onRefresh:this._handlePullToRefresh},s.createElement(z.a,{style:Tn.containerGrow},s.createElement(Mr.a,null,s.createElement(qt.a,{accessibilityLabel:Gr({screenName:a}),fetchStatus:o?Vt.a.LOADED:e,onRequestRetry:this._handleRequestRetry,render:this._renderHeaderAndContent}))))})),w()(this,"_renderHeaderAndContent",(()=>{const{showNftAvatarEducation:e}=this.state;return s.createElement(s.Fragment,null,e&&s.createElement(Er,{onEducationSheetDismiss:this._handleOnDismissNftAvatarEducation}),this._renderHeader(),this._renderContent())})),w()(this,"_renderContent",(()=>{const{isNotFound:e,isSuspended:t,isWithheld:r,user:n}=this.props,{showBlockedTweets:a}=this.state,s=this._isViewingOwnProfile();return t?this._renderUserProfileSuspended():e?this._renderUserNotFound():r&&s?this._renderLoggedInUserProfileWithheld():r?this._renderUserProfileWithheld():this._shouldShowProfileInterstitial()?this._renderUserProfileInterstitialed():n&&n.smart_blocked_by&&this._safetyModeViolatorExperienceEnabled?this._renderUserProfileAutoblockedBy():n&&n.blocked_by?this._renderUserProfileBlockedBy():n&&n.smart_blocking&&!a&&this._safetyModeUserExperienceEnabled?this._renderUserProfileSmartBlocking():n&&n.blocking&&!a?this._renderUserProfileBlocking():this._isProtectedFromViewer()?this._renderUserProfileProtected():this._renderUserProfileDefault()})),w()(this,"_isGraphQL",(()=>!0===this.context.featureSwitches.getValueWithoutScribeImpression("responsive_web_graphql_profile_timeline"))),w()(this,"_isViewingOwnProfile",(()=>{const{loggedInUserId:e}=this.context,{user:t}=this.props;return t&&e===t.id_str})),w()(this,"_shouldShowProfileInterstitial",((e=this.props.userProfileInterstitialType)=>{const{displaySensitiveMedia:t,user:r}=this.props;if(!r||!e)return!1;const{showBlockedTweets:n,userProfileInterstitialDismissed:a}=this.state,s=r.blocking&&!n,o=r.blocked_by,i=(e===Or.a.SensitiveMedia||e===Or.a.OffensiveProfileContent)&&(r.following||t||Yt.b);return!(this._isViewingOwnProfile()||this._isProtectedFromViewer()||s||o||a||i)})),w()(this,"_isProtectedFromViewer",(()=>{const{user:e}=this.props;return e&&e.protected&&!this._isViewingOwnProfile()&&!e.following})),w()(this,"_handleRequestRetry",(()=>{this._fetchOneUserIfNeeded(this.props)})),w()(this,"_handlePullToRefresh",(()=>{const{user:e}=this.props;e?this._fetchOneUser(e.id_str):this._fetchOneUserIfNeeded(this.props)})),w()(this,"_handleShowActionedTweets",(()=>{const{history:e,user:t}=this.props;t&&e.push(`/settings/safety_mode/actioned_tweets/${t.id_str}`)})),w()(this,"_handleShowBlockedTweets",(()=>{const{scribeAction:e,scribeNamespace:t,user:r}=this.props;this.setState({showBlockedTweets:!0}),null!=r&&r.smart_blocking&&this._safetyModeUserExperienceEnabled&&e({...t,page:"auto_blocking_profile",section:"profile",action:"click"})})),w()(this,"_handleOnConfirmProfileInterstitial",(()=>{const{scribeAction:e,scribeNamespace:t}=this.props;this.setState({userProfileInterstitialDismissed:!0}),e({...t,...gn,action:"click"})})),w()(this,"_handleOnDismissNftAvatarEducation",(()=>{this.setState({showNftAvatarEducation:!1})})),w()(this,"_handleEntriesRendered",(({entries:e,fetchStatus:t})=>{const{recordTTFL:r}=this.props;if(t===Vt.a.FAILED&&(this._shouldRecordTTFL=!1),this._shouldRecordTTFL&&e.length){const t=e.some((({type:e})=>e===Wt.b.Tweet));this._shouldRecordTTFL=!1;const n={source:this._isGraphQL()?"graphql":"rest"};t&&r("profile",n)}})),w()(this,"_handleFollowButtonOffscreen",(({isOffscreen:e})=>{this.setState({showFollowButtonRightControl:e})})),w()(this,"_getSmartBlockEndTimeSentence",(()=>{const{user:e}=this.props;if(null!=e&&e.smart_blocking_expiration){const t=Date.now(),r=parseInt(e.smart_blocking_expiration,10),n=r>t?r-t:0;if(n<=72e5)return tn;const a=Math.floor(n/Pn),s=Math.floor(a/24),o=a%24;return 0===s?an({hourCount:o}):0===o?nn({dayCount:s}):rn({dayCount:s,hourCount:o})}return""})),w()(this,"_getProfessionalCategory",(()=>{var e,t;const{user:r}=this.props;return null==r||null===(e=r.professional)||void 0===e||null===(t=e.category)||void 0===t?void 0:t[0]})),w()(this,"_shouldDisplayProfessionalCategoryLabel",(()=>{const e=this._isViewingOwnProfile();if(this._shouldEnableProfessionalCategoryLabelHoldback&&!e)return!1;if(!e&&this._shouldEnableProfessionalCategoryLabelViewing||e&&this._shouldEnableProfessionalCategoryLabelDisplaySwitch){var t;const e=this._getProfessionalCategory();return!!e&&(null===(t=null==e?void 0:e.display)||void 0===t||t)}})),w()(this,"_getProfessionalCategoryNameIfDisplayable",(()=>{var e;return this._shouldDisplayProfessionalCategoryLabel()?null===(e=this._getProfessionalCategory())||void 0===e?void 0:e.name:void 0})),this._shouldRecordTTFL=!0,this._shouldRecordTTFMC=!0,this.state={userProfileInterstitialDismissed:!1,showBlockedTweets:!1,showFollowButtonRightControl:!1,showNftAvatarEducation:!1}}componentDidMount(){const{createLocalApiErrorHandler:e,fetchSettingsIfNeeded:t,scribeAction:r,scribeNamespace:n}=this.props;this._fetchOneUserIfNeeded(this.props).then((()=>{this._isUserAutoblocked()&&r({...n,page:"auto_blocked_profile",section:"profile",action:"impression"}),this._isUserAutoblocking()&&r({...n,page:"auto_blocking_profile",section:"profile",action:"impression"}),this._isUserAvatarVerified()&&this.setState({showNftAvatarEducation:!0})})),this._shouldDisplayProfessionalCategoryLabel()&&r({...n,...C.c()}),t().catch(e()).then((()=>{this._shouldShowProfileInterstitial()&&r({...n,...gn,action:"impression"})}))}componentDidUpdate(e){const{fetchStatus:t,recordTTFMC:r}=this.props;if(e.fetchStatus!==t&&t===Vt.a.FAILED)this._shouldRecordTTFMC=!1;else if(this._shouldRecordTTFMC&&e.fetchStatus!==t&&t===Vt.a.LOADED&&this._isValidProfile()){r("profile",{source:this._isGraphQL()?"graphql":"rest"}),this._shouldRecordTTFMC=!1}e.user&&!e.user.blocking&&this.props.user&&this.props.user.blocking&&(window.scrollTo(0,0),this.setState({showBlockedTweets:!1}))}UNSAFE_componentWillReceiveProps(e){const{screenName:t,scribeAction:r,scribeNamespace:n,userProfileInterstitialType:a}=this.props;e.screenName!==t?(this._fetchOneUserIfNeeded(e),this.setState({userProfileInterstitialDismissed:!1})):!a&&this._shouldShowProfileInterstitial(e.userProfileInterstitialType)&&r({...n,...gn,action:"impression"})}render(){const{loggedInUserId:e}=this.context,{fetchStatus:t,history:r,isIntentRoute:n,isNotFound:a,isSuspended:o,isWithheld:i,location:l,screenName:c,user:d,userLanguage:u}=this.props,m=this._isViewingOwnProfile(),h=o||a||i&&!m,p=d?Vr({screenName:d.screen_name,fullName:d.name}):void 0,b=m?"":`@${d&&d.screen_name||c||""} `,f=h?null:s.createElement(Gt.a,{getLocationState:Fn(b),history:r}),_=d&&!h?s.createElement(mt.a,{isProtected:d.protected,isVerified:d.verified,name:d.name,screenName:d.screen_name,withScreenName:!1}):jr,g=d&&!h&&t===Vt.a.LOADED?this._renderSubtitle(d):void 0,E=d&&`twitter://user?screen_name=${d.screen_name}`,y=d&&`https://twitter.com/${d.screen_name||""}`,w=d&&qr({fullName:d.name,screenName:d.screen_name});return s.createElement(Pr.a,{backLocation:"/",composeOptions:{defaultText:b},documentTitle:p,history:r,primaryContent:s.createElement(jt.a,{fab:f},s.createElement(wr.a,{canonical:y,description:null==d?void 0:d.description,image:null==d?void 0:d.profile_image_url_https,title:w,type:"profile"}),Yt.b&&d?s.createElement(s.Fragment,null,s.createElement(Nr,{user:d}),s.createElement(Kt.a,{description:null==d?void 0:d.description})):null,s.createElement(I.a,{deepLink:E}),s.createElement(k.a,{featureSwitches:this.context.featureSwitches,loggedInUserId:e,pageType:"profile",userLanguage:u}),y?s.createElement(S.a,{canonical:y}):null,s.createElement(qt.a,{accessibilityLabel:Gr({screenName:c}),fetchStatus:d||h?Vt.a.LOADED:t,onRequestRetry:this._handleRequestRetry,render:this._renderContainer}),n?s.createElement(Qt.a,{history:r,location:l,userId:null==d?void 0:d.id_str}):null),rightControl:this._renderRightControl(),sidebarContent:this._renderSidebarContent(),subtitle:g,title:_})}_renderRightControl(){const{promotedContent:e,user:t}=this.props,{showFollowButtonRightControl:r}=this.state;return t&&!this._isViewingOwnProfile()?s.createElement(Ar.b,{animateMount:!0,show:r,type:"fade"},s.createElement(Z.a,{promotedContent:e,userId:t.id_str})):void 0}_renderSubtitle(e){const{location:t}=this.props,r=t.pathname.toLowerCase(),n=e.screen_name.toLowerCase();return r.indexOf(`/${n}/${vn}`)>-1?s.createElement(Lr.a,{count:e.favourites_count,type:"likes"}):r.indexOf(`/${n}/${Sn}`)>-1?s.createElement(Lr.a,{count:e.favourites_count,type:"reactions"}):r.indexOf(`/${n}/${Cn}`)>-1?s.createElement(Lr.a,{count:e.media_count,type:"media"}):s.createElement(Lr.a,{count:e.statuses_count,type:"tweets"})}_renderSidebarContent(){const{user:e}=this.props;return e?s.createElement(Cr.a,{hideMediaModule:this._shouldHideMediaModule(),userId:e.id_str,userScreenName:e.screen_name,withTopicsToFollow:Object(Bt.b)({user:e,isOwnProfile:this._isViewingOwnProfile()||!1})}):s.createElement(P.a,null)}_renderHeader(){const{loggedInUserId:e}=this.context,{history:t,isActiveCreator:r,isNotFound:n,isSuspended:a,isWithheld:s,profileHeaderRenderer:o,promotedContent:i,restrictedProfileHeaderRenderer:l,screenName:c,superFollowersCount:d,user:u}=this.props,m=this._shouldShowProfileInterstitial(),h=!this._isViewingOwnProfile()&&(a||n||m),p=this._getProfessionalCategoryNameIfDisplayable();if(h){const{name:e}=u||{};return l({shouldDisplayUserActionSheet:!a&&!n,fullUser:u,restrictedUser:{name:e,screen_name:c||""}})}return u?o({history:t,loggedInUserId:e,isActiveCreator:r,isWithheld:s,onFollowButtonOffscreen:this._handleFollowButtonOffscreen,promotedContent:i,superFollowersCount:d,user:u,professionalCategoryName:p}):null}_renderEmptyState({buttonText:e,buttonType:t,header:r,message:n,onButtonPress:a,onSecondaryButtonPress:o,secondaryButtonText:i,secondaryButtonType:l}){const{isSuspended:c,screenName:d}=this.props;return s.createElement(s.Fragment,null,Yt.b&&c&&d?s.createElement(xr,{screenName:d}):Yt.b?s.createElement(yr.a,null):null,s.createElement(Ur.a,{buttonText:e,buttonType:t,header:r,message:n,onButtonPress:a,onSecondaryButtonPress:o,secondaryButtonText:i,secondaryButtonType:l,style:Nn.root}))}_renderUserProfileInterstitialed(){const{userProfileInterstitialType:e}=this.props,{header:t,message:r}=Object(Jt.a)(e);return this._renderEmptyState({header:t,message:r,buttonText:_n,onButtonPress:this._handleOnConfirmProfileInterstitial})}_renderUserProfileBlocking(){const{user:e}=this.props;if(!e)return null;const{screen_name:t}=e,r=ln({screenName:t}),n=s.createElement(te.a.I18NFormatMessage,{$i18n:"e645092a",screenName:t},s.createElement(Pe.b,{link:"https://support.twitter.com/articles/117063"},te.a.f6a72a2a));return this._renderEmptyState({header:r,message:n,buttonText:pn,onButtonPress:this._handleShowBlockedTweets})}_renderUserProfileSmartBlocking(){const{user:e}=this.props;if(!e)return null;const t=this._getSmartBlockEndTimeSentence(),{screen_name:r}=e,n=sn({screenName:r}),a=s.createElement(Pe.b,{color:"gray700",weight:"bold"}),o=s.createElement(z.a,null,s.createElement(Pe.b,{color:"gray700",style:{paddingBottom:U.a.theme.spaces.space20}},s.createElement(te.a.I18NFormatMessage,{$i18n:"dd7d4939",smartBlockEndTimeSentence:t},s.cloneElement(a,null,te.a.g6645d94({screenName:r})))),s.createElement(Pe.b,{color:"gray700",style:{paddingBottom:U.a.theme.spaces.space8}},s.createElement(te.a.I18NFormatMessage,{$i18n:"ef0a76ab"},s.cloneElement(a,null,te.a.g08eceae({screenName:r})))));return this._renderEmptyState({header:n,message:o,buttonText:bn,buttonType:"primaryFilled",secondaryButtonText:fn,secondaryButtonType:"primaryOutlined",onButtonPress:this._handleShowActionedTweets,onSecondaryButtonPress:this._handleShowBlockedTweets})}_renderUserProfileBlockedBy(){const{user:e}=this.props;if(!e)return null;const{screen_name:t}=e,r=s.createElement(te.a.I18NFormatMessage,{$i18n:"ccade2e6",screenName:t},s.createElement(Pe.b,{link:"https://support.twitter.com/articles/20172060"},te.a.de078c23));return this._renderEmptyState({header:on,message:r})}_renderUserProfileAutoblockedBy(){const{user:e}=this.props;if(!e)return null;const{screen_name:t}=e,r=s.createElement(Pe.b,{style:{paddingBottom:U.a.theme.spaces.space20}}),n=s.createElement(Pe.b,{weight:"bold"}),a=s.createElement(Pe.b,{style:{paddingBottom:U.a.theme.spaces.space4},weight:"bold"}),o=s.createElement(z.a,null,s.createElement(Pe.b,{style:{paddingBottom:U.a.theme.spaces.space20}},s.createElement(te.a.I18NFormatMessage,{$i18n:"a496f1c8"},s.cloneElement(n,null,te.a.e8bc24ae({screenName:t})))),s.createElement(te.a.I18NFormatMessage,{$i18n:"d0271e51"},s.cloneElement(r,null,te.a.ff050532)),s.createElement(te.a.I18NFormatMessage,{$i18n:"ed219b4a"},s.createElement(Pe.b,{link:"https://help.twitter.com/safety-and-security/autoblock",style:{paddingBottom:U.a.theme.spaces.space20}},te.a.b48bd8bf)),s.createElement(te.a.I18NFormatMessage,{$i18n:"h9bd2805"},s.cloneElement(r,null,te.a.ia457a19)),s.createElement(te.a.I18NFormatMessage,{$i18n:"cc487b37"},s.cloneElement(a,null,te.a.f5531a44)),s.createElement(te.a.I18NFormatMessage,{$i18n:"hafa5308"},s.cloneElement(r,null,te.a.h173a610)),s.createElement(te.a.I18NFormatMessage,{$i18n:"hd184fd6"},s.cloneElement(a,null,te.a.ha985c95)),s.createElement(te.a.I18NFormatMessage,{$i18n:"bae036f9"},s.cloneElement(r,null,te.a.d5d82dd3)),s.createElement(te.a.I18NFormatMessage,{$i18n:"aec2e702"},s.cloneElement(a,null,te.a.i4b9b3d0)),s.createElement(te.a.I18NFormatMessage,{$i18n:"f0dc3226"},s.cloneElement(r,null,te.a.dbb6ccd4)));return this._renderEmptyState({header:en,message:o})}_renderUserProfileSuspended(){let e;const{suspendMessage:t}=this.props;return e=this.context.featureSwitches.isTrue("suspended_profile_tombstone_enabled")&&t?s.createElement(rt.a,{entities:t.entities,rtl:t.rtl,text:t.text}):s.createElement(te.a.I18NFormatMessage,{$i18n:"f6fa2033"},s.createElement(Pe.b,{link:"https://support.twitter.com/articles/18311"},te.a.f3b1bdc1)),this._renderEmptyState({header:cn,message:e})}_renderUserProfileWithheld(){const{user:e}=this.props;if(!e)return null;const{description:t,entities:r,id_str:n}=e;if(!t)return null;const a=Rr.a.descriptionTextParts(t,r),o=s.createElement(Pe.b,{align:"center",color:"gray700",dir:"auto"},a.map(((e,t)=>s.createElement($r.b,{key:`user_${n}_textpart_${t}`,linkify:!0,part:e}))));return this._renderEmptyState({header:hn,message:o})}_renderLoggedInUserProfileWithheld(){const{user:e}=this.props;if(!e)return null;const{description:t,entities:r,id_str:n}=e;if(!t)return null;const a=Rr.a.descriptionTextParts(t,r);return s.createElement(z.a,null,s.createElement(z.a,{style:Tn.withheldMessageRoot},s.createElement(Pe.b,{align:"center",size:"title4",style:Tn.withheldMessageHeader,weight:"bold"},hn),s.createElement(Pe.b,{align:"center",color:"gray700",dir:"auto"},a.map(((e,t)=>s.createElement($r.b,{key:`user_${n}_textpart_${t}`,linkify:!0,part:e}))))),s.createElement(Hr.a,null),this._renderUserProfileDefault())}_renderUserProfileProtected(){const{user:e}=this.props;if(!e)return null;const{screen_name:t}=e,r=s.createElement(te.a.I18NFormatMessage,{$i18n:"c97724c2",screenName:t},s.createElement(Pe.b,{link:"https://support.twitter.com/articles/14016"},te.a.a58c8a4e));return this._renderEmptyState({header:mn,message:r})}_renderUserNotFound(){return this._renderEmptyState({header:dn,message:un})}_renderUserProfileDefault(){const{history:{location:e},isActiveCreator:t,user:r}=this.props;if(!r)return null;const{screen_name:n}=r,{showBlockedTweets:o}=this.state,i=e.query,l=this.context.featureSwitches.isTrue("responsive_web_reactions_enabled"),c=this._isViewingOwnProfile()&&t||r.super_following,d=t=>{const r=l?Zr:Xr;return[{isActive:()=>e.pathname.toLowerCase()===`/${n}`.toLowerCase()||e.pathname.toLowerCase()===`/${n}/`.toLowerCase()||e.pathname.indexOf("/intent/follow")>-1||e.pathname.indexOf("/intent/user")>-1,to:{pathname:`/${n}`,query:i},key:Jr,label:Jr},{to:{pathname:`/${n}/${kn}`,query:i},key:Kr,label:Kr},c?{to:{pathname:`/${n}/${In}`,query:i},key:Qr,label:Qr,color:"plum500"}:void 0,{to:{pathname:`/${n}/${Cn}`,query:i},key:Yr,label:Yr,onClick:t()},{to:{pathname:`/${n}/${l?Sn:vn}`,query:i},key:r,label:r,onClick:t()}]},u={displayBlocked:o,fullName:r.name,screenName:r.screen_name,userId:r.id_str},m={isActiveCreator:t,isSuperFollowing:r.super_following};return s.createElement(s.Fragment,null,s.createElement(Mt.a,null,(e=>s.createElement(Dr.a,{accessibilityLabel:zr,links:d(e)}))),s.createElement(Wr.e,null,s.createElement(Wr.c,{exact:!0,path:"/intent/follow"},s.createElement(En,a()({},u,m))),s.createElement(Wr.c,{exact:!0,path:"/intent/user"},s.createElement(En,a()({},u,m))),s.createElement(Wr.c,{exact:!0,path:`/${vr.H}`},s.createElement(En,a()({},u,m,{onEntriesRendered:this._handleEntriesRendered}))),s.createElement(Wr.c,{exact:!0,path:`/${vr.H}/${kn}`},s.createElement(En,a()({},u,m,{mode:"with_replies"}))),s.createElement(Wr.c,{exact:!0,path:`/${vr.H}/${In}`},s.createElement(En,a()({},u,m,{mode:"superfollows"}))),s.createElement(Wr.c,{exact:!0,path:`/${vr.H}/${Cn}`},s.createElement(wn,u)),s.createElement(Wr.c,{exact:!0,path:`/${vr.H}/(${vn}|${Sn})`},s.createElement(yn,u))))}_fetchOneUserIfNeeded(e){const{createLocalApiErrorHandler:t,fetchOneByScreenNameWithExtraFieldsIfNeeded:r,screenName:n}=e;return n?r(n).catch(t(zt.a)):Promise.resolve()}_fetchOneUser(e){const{createLocalApiErrorHandler:t,fetchOneUser:r}=this.props;return r(e).catch(t(zt.a))}_isUserAvatarVerified(){const{user:e}=this.props;return null==e?void 0:e.has_nft_avatar}_isUserAutoblocked(){const{user:e}=this.props;return(null==e?void 0:e.smart_blocked_by)&&this._safetyModeViolatorExperienceEnabled}_isUserAutoblocking(){const{user:e}=this.props;return(null==e?void 0:e.smart_blocking)&&this._safetyModeUserExperienceEnabled}_shouldHideMediaModule(){const{user:e}=this.props;return this._shouldShowProfileInterstitial()||this._isProtectedFromViewer()||e&&(e.blocked_by||e.blocking&&!this.state.showBlockedTweets)}_isValidProfile(){const{isNotFound:e,isSuspended:t,isWithheld:r,user:n}=this.props;return n&&!n.blocking&&!n.smart_blocking&&!n.smart_blocked_by&&!n.blocked_by&&!this._isViewingOwnProfile()&&!this._isProtectedFromViewer()&&!t&&!e&&!r&&!this._shouldShowProfileInterstitial()}}w()(xn,"contextType",F.a),w()(xn,"defaultProps",{profileHeaderRenderer:e=>s.createElement(Dt,e),restrictedProfileHeaderRenderer:e=>s.createElement(Ir,e),recordTTFL:v.c,recordTTFMC:v.d});var On=Object(Br.a)(xn);const Tn=U.a.create((e=>({containerGrow:{flexGrow:1},rightControlContainer:{flexDirection:"row",flexGrow:1},interstitialedProfile:{height:"100%",position:"fixed",width:"100%",filter:"blur(10px)"},withheldMessageRoot:{paddingVertical:e.spaces.space32,paddingHorizontal:e.spaces.space16},withheldMessageHeader:{paddingBottom:e.spaces.space4}}))),Nn=U.a.create((e=>({root:{backgroundColor:e.colors.cellBackground,paddingVertical:e.spaces.space40,paddingHorizontal:e.spaces.space20}}))),Ln=e=>s.createElement(E.a,{userId:e.user&&e.user.id_str},(({scribeNamespace:t})=>s.createElement(On,a()({},e,{scribeNamespace:t}))));t.default=g(Ln)}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/bundle.UserProfile.c99387f5.js.map