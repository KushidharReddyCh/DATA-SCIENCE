(window.webpackJsonp=window.webpackJsonp||[]).push([[167],{"+Bsv":function(e,t,n){"use strict";var r=n("ERkP"),a=n("3XMw"),o=n.n(a),i=n("M2x3"),s="settingsAppBar",c=n("/yvb"),d=n("rHpw");const l=o.a.bb081ea1,p={viewType:"settings_button"},u=r.memo((({onPress:e,pullRight:t,to:n})=>r.createElement(c.a,{accessibilityLabel:l,behavioralEventContext:p,hoverLabel:{label:l},icon:r.createElement(i.a,null),link:n,onPress:e,pullRight:t,style:m.button,testID:s,type:"primaryText"}))),m=d.a.create((e=>({button:{marginVertical:`calc(-${e.spaces.space12})`}})));t.a=u},"+o05":function(e,t,n){"use strict";var r=n("ezF+"),a=Object.freeze({Cell:"Cell",Hero:"Hero",Tile:"Tile"});const o={loader:()=>n.e(218).then(n.bind(null,"QPD4")),loaderKey:"defaultScoreEventSummaryLoader",strategy:n("XBtf").a.Critical};t.a=r.c({selectDisplayType:e=>e.content.displayType,handlers:{[a.Cell]:o}})},"A+RP":function(e,t,n){"use strict";n.r(t),n.d(t,"UPDATE_INTERVAL",(function(){return W})),n.d(t,"ExploreSidebar",(function(){return Q}));var r=n("KEM+"),a=n.n(r),o=n("ERkP"),i=n("FIs5"),s=n("ezF+"),c=n("8UdT"),d=n("iu0J"),l=n("xN10"),p=n("+o05"),u=n("5Y9N"),m=n("XtkE"),b=n("VPAj"),h=n("3XMw"),g=n.n(h),E=n("caTy"),f=n("+Bsv"),y=n("MWbm"),T=n("Irs7"),_=n("hxu0"),w=n("6vad"),I=n("rC8y");const v=g.a.c5f4befa,C=g.a.d228a9a0;class M extends o.Component{constructor(e,t){super(e,t),a()(this,"_handleShowMoreInlineClick",(()=>{const{onClick:e}=this.props;this.setState({showMoreTrends:!0}),e("show_more_inline")})),a()(this,"_handleShowMoreClick",(()=>{const{onClick:e}=this.props;e("show_more")})),this.state={showMoreTrends:!1}}componentDidMount(){const{analytics:e,trends:t}=this.props;t&&t.length>0&&e.scribe({action:"impression",component:"explore_sidebar"})}canShowMoreTrends(){const{trends:e}=this.props;return!this.state.showMoreTrends&&e.length>5}render(){const{footer:e,headerTitle:t,isInSidebar:n}=this.props,r=o.createElement(f.a,{to:"/settings/trends"});return o.createElement(y.a,null,o.createElement(w.b,{rightControl:r,text:t||v}),this._renderTrends(),this.canShowMoreTrends()?o.createElement(I.a,{onPress:this._handleShowMoreInlineClick,text:C,withBottomRadius:!0,withDarkerInteractiveBackground:n}):!!e&&o.createElement(I.a,{link:e.landingUrl?Object(E.b)(e.landingUrl):void 0,onPress:this._handleShowMoreClick,text:e.text,withBottomRadius:!0,withDarkerInteractiveBackground:n}))}_renderTrends(){const{trends:e}=this.props,{showMoreTrends:t}=this.state;return(t?e:e.slice(0,5)).map((e=>o.createElement(o.Fragment,{key:e.key},e.item)))}}var S=Object(T.a)(Object(_.a)(M)),x=n("zh9S");var k=s.g({bindActions:()=>({scribeAction:x.c}),component:S,createProps:({actions:{scribeAction:e},entry:t,renderEntry:n,scribeNamespace:r})=>{const{footer:a,header:o,items:i}=t.content;return{footer:a,headerTitle:o&&o.text,onClick:t=>{e({...r,element:t,action:"click"})},trends:i.map((e=>({item:n(e),key:e.entryId})))}},shouldDisplayBorder:Object(b.a)(!1)});const O="TrendsModule",A="EXPLORE_SIDEBAR",R={[c.b.TimelineCursor]:s.e(s.a()),[c.b.Label]:s.e(s.a()),[c.b.Message]:s.e(s.a()),[c.b.News]:s.e(s.a()),[c.b.Trend]:Object(m.a)({withThirdPartyCards:!1,errorContext:A}),[c.b.EventSummary]:Object(d.a)({errorContext:A}),[c.b.ScoreEventSummary]:p.a},j={[O]:k};var P={...Object(u.a)({customHandlers:j,customSelectDisplayType:e=>(e=>{const{content:{items:t}}=e;return t.length>0&&Object(l.a)(t,(e=>e.type===c.b.Trend))})(e)?O:e.content.displayType,isInSidebar:!0}),...R},L=n("oQhu"),D=n("fTQJ"),F=n("b8qQ"),U=n("2g+p"),z=n("v6aA"),H=n("BxsD");const N=g.a.b8e930fd,B=g.a.ae05f268,W=3e5,X=()=>o.createElement(i.a,{message:B}),$=Object(L.a)(((e,t)=>Object(H.c)({featureSwitches:t,displayLocation:H.a.WebSidebar,focalTweetId:e}))),V=Object(L.a)(((e,t)=>Object(H.c)({featureSwitches:t,displayLocation:H.a.WebSidebar,profileUserId:e})));class Q extends o.Component{constructor(...e){super(...e),a()(this,"_getModule",(()=>{const{focalTweetId:e,profileUserId:t}=this.props;return e?$(e,this.context.featureSwitches):t?V(t,this.context.featureSwitches):Object(H.e)(this.context.featureSwitches)})),a()(this,"_setTimelineRef",(e=>{this._timeline=e})),a()(this,"_onAppForegrounded",(e=>{"active"===e&&this._fetchUpdates()})),a()(this,"_fetchUpdates",(()=>{this._timeline&&"active"===U.a.currentState&&this._timeline.fetchTop({})}))}componentDidMount(){U.a.addEventListener("change",this._onAppForegrounded)}componentWillUnmount(){U.a.removeEventListener("change",this._onAppForegrounded)}render(){return o.createElement(y.a,null,o.createElement(D.a,{entryConfiguration:P,module:this._getModule(),pollingIntervalMsOverride:W,renderUnavailable:X,scroller:F.a,showLoadingFooter:!1,timelineRef:this._setTimelineRef,title:N,withKeyboardShortcuts:!1}))}}a()(Q,"contextType",z.a);t.default=Q},BxsD:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return m})),n.d(t,"e",(function(){return b})),n.d(t,"g",(function(){return h}));var r=n("vXCH"),a=n("oQhu"),o=n("ZNT5"),i=n("eR3e");const s=Object.freeze({Trends:"trends"}),c=Object.freeze({WebSidebar:"web_sidebar"}),d="explore-",l=({contentType:e,displayLocation:t,featureSwitches:n,focalTweetId:r,includePageConfiguration:a=!1,initialTabId:i,profileUserId:s}={})=>{const c=e||t||"main",l=r?`${d}${c}-tweet-${r}`:s?`${d}${c}-user-${s}`:`${d}${c}`,u=n.isTrue("responsive_web_new_client_events_enabled");return Object(o.a)({timelineId:l,formatResponse:p(u),getEndpoint:e=>e.URT.fetchExplore,getEndpointParams:n=>({...n,candidate_source:e,display_location:t,focal_tweet_id:r,include_page_configuration:a,initial_tab_id:i,profile_user_id:s,entity_tokens:u}),context:"FETCH_EXPLORE",perfKey:`${d}${c}`,staleIntervalMs:9e5})},p=e=>t=>{const{pageConfiguration:n}=t;if(e&&n&&n.tabs){const a=n.tabs.tabs.map((t=>{var n,r,a;const o={...null===(n=t.urtEndpoint)||void 0===n||null===(r=n.urtEndpointOptions)||void 0===r?void 0:r.requestParams,entity_tokens:e};return{...t,urtEndpoint:{...t.urtEndpoint,urtEndpointOptions:{...null===(a=t.urtEndpoint)||void 0===a?void 0:a.urtEndpointOptions,requestParams:o}}}})),o={...t,pageConfiguration:{...n,tabs:{...n.tabs,tabs:a}}};return Object(r.a)(o)}return Object(r.a)(t)},u=(e,t)=>l({featureSwitches:e,includePageConfiguration:!0,initialTabId:t}),m=Object(a.a)((e=>l({featureSwitches:e,contentType:s.Trends}))),b=Object(a.a)((e=>l({featureSwitches:e,displayLocation:c.WebSidebar}))),h=()=>(e,t)=>e(Object(i.t)(t()).filter((e=>0===e.indexOf(d))).map((e=>Object(i.g)(e))))},XtkE:function(e,t,n){"use strict";var r=n("ezF+"),a=n("6rlp"),o=n("ERkP"),i=n("vjRr"),s=n("/Ikv"),c=n("VPAj"),d=n("0KEI"),l=n("RoyM"),p=n("aX4+"),u=n("caTy"),m=n("cFuS"),b=n("zh9S"),h=n("Rp9C"),g=(n("MvUL"),n("aTAq")),E=n("b5s6"),f=n("i7AQ"),y=n("zOwA"),T="metadata",_="trend",w=n("MWbm"),I=n("hxu0"),v=n("PbQQ"),C=n("htQn"),M=n("pjBI"),S=n("t62R"),x=n("e5HP"),k=n("rHpw");const O=/[\u0600-\u06FF]|[\u0750-\u077F]|[\u0590-\u05FF]|[\uFE70-\uFEFF]/gm,A=(e,t=0)=>e.replace("#","").charAt(t).match(O)?"rtl":"ltr";class R extends o.Component{render(){const{associatedTweetIds:e,attachment:t,description:n,domainContext:r,groupedTrends:a,isInSidebar:i,link:s,name:c,onClick:d,rank:l,trendFeedbackMenu:p}=this.props,u=A(c),m=s&&("string"==typeof s?{pathname:s}:s),b=e&&e.length?e[0]:void 0;return o.createElement(v.a.Consumer,null,(e=>o.createElement(o.Fragment,null,o.createElement(C.a,{link:m?e.withAnchorless(m):void 0,onPress:d,style:P.rootLink,testID:_,withDarkerInteractiveBackground:i},o.createElement(w.a,{style:P.content},o.createElement(M.a,null,l?o.createElement(S.b,{accessibilityHidden:!0,color:"gray700",size:"subtext2"},l):null,o.createElement(S.b,{color:"gray700",size:"subtext2"},r||null)),o.createElement(S.b,{dir:u,style:P.name,weight:"bold",withHashflags:!0},c),n?o.createElement(S.b,{color:"gray700",style:P.description},n):null,b?o.createElement(E.a,{isCondensed:!0,style:P.withMarginTop,tweetId:b}):null,t?o.createElement(w.a,{style:P.attachment},t):null,o.createElement(f.a,{groupedTrends:a}),this._renderMetadata(),o.createElement(w.a,{style:P.trendFeedbackMenuContainer},p))))))}_renderMetadata(){const{metaDescription:e,promotedContent:t,socialProofUser:n}=this.props;let r;t?r=o.createElement(x.a,{label:e,promotedContent:t}):n&&e?r=o.createElement(y.a,{image:n.profile_image_url_https,key:n.id_str,label:e,textSize:"subtext2"}):e&&(r=e);const a=Object(g.a)(r)&&r.length?A(r,r.length-1):void 0;return r?o.createElement(S.b,{color:"gray700",dir:a,size:"subtext2",style:P.withMarginTop,testID:T},r):null}}var j=Object(I.a)(R);const P=k.a.create((e=>({rootLink:{display:"flex",paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical},trendFeedbackMenuContainer:{position:"absolute",top:1,right:0},attachment:{alignSelf:"stretch",paddingBottom:e.spaces.space4,paddingTop:e.spaces.space12},description:{paddingTop:e.spaces.space2},content:{flexGrow:1,position:"relative"},name:{paddingTop:e.spaces.space2},withMarginTop:{marginTop:e.spaces.space4}})));var L=n("G6rE");const{CardNames:D}=s.a,F=e=>e&&e.promotedTrendId?{disclosure_type:e.disclosureType,impression_id:e.promotedTrendId}:void 0,U=Object.freeze({[D.LIVE_EVENT]:!0,[D.MOMENT]:!0,[D.SUMMARY]:!0,[D.SUMMARY_LARGE_IMAGE]:!0,[D.AUDIOSPACE]:!0}),z=(e,t)=>{if(e&&e.length>0){const n=e[0];if(!t&&n.name!==D.LIVE_EVENT&&n.name!==D.AUDIOSPACE)return;const r=n.name===D.SUMMARY_LARGE_IMAGE?D.SUMMARY:n.name;if(!U[r])return;return o.createElement(p.a,{card:{url:n.url,name:r,binding_values:n.binding_values,users:n.users},cardContext:{locationKey:"trend",tweetUserId:"TREND_CARD_NO_TWEET_USER_ID"},cardState:"secondary"})}},H=({entry:e})=>({cards:i.a.createManyHydratedSelector(e.content.associatedCardUrls||[]),socialProofUsers:t=>L.e.selectMany(t,e.content.associatedUserIds||[])});var N=(e,t)=>r.g({isFocusable:Object(c.a)(!0),component:j,bindActions:({module:e})=>({logTrend:a.c,scribe:b.c,createLocalApiErrorHandler:Object(d.createLocalApiErrorHandlerWithContextFactory)(t)}),selectData:H,createProps:({actions:{createLocalApiErrorHandler:t,logTrend:n,scribe:r},data:{cards:a,socialProofUsers:i},entry:s,feedbackItems:c,module:{selectFeedbackActions:d},scribeData:p,scribeNamespace:b})=>{const{content:h}=s,{promotedMetadata:g}=h,E=h.groupedTrends?h.groupedTrends.map((e=>({name:e.name,link:Object(u.b)(e.url)}))):[];return{associatedTweetIds:h.associatedTweetIds,attachment:z(a,e),description:h.description,domainContext:h.trendMetadata.domainContext,groupedTrends:E,link:Object(u.b)(h.url),metaDescription:h.trendMetadata&&h.trendMetadata.metaDescription,name:h.name,onClick:()=>{r({...b,action:"search"},p),g&&g.promotedTrendId&&n({promoted_trend_id:g.promotedTrendId,impression_id:g.impressionString,event:m.d.TREND_CLICK}).catch(t())},promotedContent:F(g),rank:h.rank,trendFeedbackMenu:o.createElement(l.a,{feedbackItems:c}),socialProofUser:i&&i[0]}},getScribeDataItem:e=>{const{name:t,promotedMetadata:n}=e.content,{clientEventInfo:r}=e.itemMetadata;return h.a.getTrendItem(t,n,r)},onImpression:({actions:{createLocalApiErrorHandler:e,logTrend:t,scribe:n},entry:r,scribeData:a,scribeNamespace:o})=>{const{promotedMetadata:i}=r.content;n({...o,action:"impression"},a),i&&i.promotedTrendId&&t({promoted_trend_id:i.promotedTrendId,impression_id:i.impressionString,event:m.d.TREND_VIEW}).catch(e())}});t.a=({errorContext:e,withThirdPartyCards:t=!1})=>r.e(N(t,e))},b5s6:function(e,t,n){"use strict";var r=n("97Jx"),a=n.n(r),o=n("ERkP"),i=n("v6aA"),s=n("XOJV"),c=n("eSoz"),d=n("rxPX"),l=n("0KEI");const p=(e,t)=>t.tweetId,u=(e,t)=>{const n=t.tweetId,r=n&&s.a.select(e,n);return r?Object(c.f)(e,r):void 0};var m=Object(d.a)().propsFromState((()=>({community:u,hydratedTweet:s.a.createHydratedTweetSelector(p)}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(l.createLocalApiErrorHandlerWithContextFactory)("QUOTE_TWEET_CONTAINER"),fetchCommunityIfNeeded:c.b.fetchOneIfNeeded}))),b=n("YeIG"),h=n("uCxL"),g=n("x5Pi");const E=m((({community:e,createLocalApiErrorHandler:t,fetchCommunityIfNeeded:n,hydratedTweet:r,tweetId:s,...c})=>{const{featureSwitches:d,loggedInUserId:l}=o.useContext(i.a),p=null==r?void 0:r.community_id_str;o.useEffect((()=>{p&&Object(b.a)(e)&&n(p).catch(t())}),[e,p,t,n]);const u=d.isTrue("responsive_web_alt_text_badge_enabled"),m=r&&Object(g.f)(r,l,e),E=m&&Object(g.e)(m),f=d.isTrue("responsive_web_reactions_enabled");return o.createElement(h.a,a()({},c,{loggedInUserId:l,shouldShowAltLabelAlways:u,socialContextProps:E,tweet:r,withReactions:f}))}));t.a=E},i7AQ:function(e,t,n){"use strict";var r=n("ERkP"),a=n("3XMw"),o=n.n(a),i=n("t62R"),s=n("rHpw");const c=({groupedTrends:e,linkColor:t,textColor:n})=>{const a=d(e,t);return a?r.createElement(i.b,{color:n,numberOfLines:2,size:"subtext2",style:m.root},a):null};c.defaultProps={textColor:"gray700"};const d=(e,t)=>e.length>=2?p(e,t):1===e.length?l(e[0],t):null,l=(e,t)=>r.createElement(o.a.I18NFormatMessage,{$i18n:"g1e704c3"},u(e,t,!0)),p=(e,t)=>r.createElement(o.a.I18NFormatMessage,{$i18n:"i7bba09d"},u(e[0],t,!0),u(e[1],t)),u=(e,t,n=!1)=>r.createElement(i.b,{color:t,link:e.link,size:"subtext2",style:n&&m.paddingLeft,withHashflags:!0},e.name),m=s.a.create((e=>({root:{marginTop:e.spaces.space4},paddingLeft:{paddingLeft:e.spaces.space2}})));t.a=c},zOwA:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("KEM+"),a=n.n(r),o=n("ERkP"),i=n("9Xij"),s=n("t62R"),c=n("rHpw"),d=n("U+bB"),l=n("MWbm");class p extends o.PureComponent{render(){const{color:e,image:t,label:n,textSize:r}=this.props;return o.createElement(l.a,{style:u.root},t?o.createElement(l.a,{style:u.imageContainer},o.createElement(i.a,{ratio:1},o.createElement(d.a,{source:t,style:u.image}))):null,o.createElement(s.b,{color:e,size:r},n))}}a()(p,"defaultProps",{color:"gray700",textSize:"body"});const u=c.a.create((e=>({root:{alignItems:"center",flexDirection:"row"},imageContainer:{alignSelf:"flex-start",backgroundColor:e.colors.gray200,flexShrink:0,height:e.fontSizes.headline1,marginRight:e.spaces.space4,width:e.fontSizes.headline1,borderRadius:e.borderRadii.infinite},image:{height:"100%",width:"100%",borderRadius:e.borderRadii.infinite}})))}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/loader.ExploreSidebar.9c11af45.js.map