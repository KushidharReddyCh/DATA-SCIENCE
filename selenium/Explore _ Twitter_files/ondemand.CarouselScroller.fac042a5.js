(window.webpackJsonp=window.webpackJsonp||[]).push([[193],{"0xZH":function(e,t,n){"use strict";n.r(t),n.d(t,"URTCarouselScroller",(function(){return f}));var r=n("ERkP"),o=n("fs1G"),a=n("BKvV"),i=n("b1wW"),s=n("7n04"),c=n("Irs7"),l=n("MWbm"),u=n("6iuV"),d=n("rHpw");const f=r.forwardRef((({assumedItemHeight:e=0,anchoring:t=s.a,identityFunction:n,items:d,minimumOffscreenToViewportRatio:f=0,nearEndProximityRatio:p=0,nearStartProximityRatio:b=0,noItemsRenderer:R=g,preferredOffscreenToViewportRatio:w=0,onAtEnd:E=o.a,onAtStart:v=o.a,onNearEnd:y=o.a,onNearStart:S=o.a,onPositionRestored:C=o.a,renderer:V},x)=>{const{numRowsFromMetadata:k,scrollerDisplayType:I=i.a.Carousel}=r.useContext(a.a),P=k||h(d.length,I),A=r.useRef(0),O=Object(c.b)();r.useImperativeHandle(x,(()=>({isAtNewest:()=>!0,scrollToNewest:()=>Object(o.a)(),adjustFocusBy:e=>Object(o.a)()})));const N=r.useMemo((()=>{const e=[];for(let t=0,o=0;t<d.length;t+=P,o++){const a=d.slice(t,t+P),i=r.createElement(l.a,{key:o},a.map((e=>r.createElement(r.Fragment,{key:n(e)},V(e)))));e.push(i)}return A.current=e.length,e}),[n,d,P,V]),M=r.useCallback((({index:e,intersectionRatio:t})=>{e===A.current-1&&1===t&&O.scribeAction("reached_end")}),[O,A]),H=r.useCallback((({next:e,previous:t})=>{t>e?O.scribeAction("scroll_left"):t<e&&O.scribeAction("scroll_right")}),[O]);return d.length?r.createElement(u.a,{onScroll:H,onVisibleRangeChange:M,style:m.root},N):R()})),g=()=>null,h=(e,t)=>t===i.a.GridCarousel&&e>=8?e<12?2:3:1,m=d.a.create((e=>({root:{marginHorizontal:e.spaces.space4,marginVertical:e.spaces.space4}})));t.default=f},"DO1+":function(e,t,n){"use strict";n.r(t),n.d(t,"PagedCarouselScroller",(function(){return w}));var r=n("ERkP"),o=n("gZV8"),a=n("fs1G"),i=n("X3+4"),s=n("7nmT"),c=n.n(s),l=n("Resy"),u=n("7n04"),d=n("Irs7"),f=n("Fz18"),g=n("0ig/"),h=n("rHpw"),m=n("38/B"),p=n("6iuV"),b=n("WrBE"),R=n("MWbm");const w=r.forwardRef((({assumedItemHeight:e=0,anchoring:t=u.a,identityFunction:n,items:s,minimumOffscreenToViewportRatio:w=0,nearEndProximityRatio:y=0,nearStartProximityRatio:S=0,noItemsRenderer:C=E,preferredOffscreenToViewportRatio:V=0,onAtEnd:x=a.a,onAtStart:k=a.a,onItemsRendered:I=a.a,onNearEnd:P=a.a,onNearStart:A=a.a,onPositionRestored:O=a.a,renderer:N},M)=>{const H=r.useRef(),j=Object(f.b)(),[B,T]=r.useState((()=>{const e=j.getSavedPosition();if(null==e||!e.length)return 0;const t=e[0].id,n=s.findIndex((({entryId:e})=>e===t));return n>-1?n:0})),F=r.useRef(new b.a.Value(50)).current,_=r.useRef({}).current,D=r.useRef({}),G=r.useRef(0),W=Object(d.b)(),z=Object(g.a)().width<h.a.theme.breakpoints.small,J=r.useCallback((e=>{var t;const n=null===(t=s[e])||void 0===t?void 0:t.entryId;n&&j.savePosition([{id:n}])}),[j,s]);r.useImperativeHandle(M,(()=>({isAtNewest:()=>!0,scrollToNewest:()=>Object(a.a)(),adjustFocusBy:e=>Object(a.a)()}))),r.useEffect((function(){const e=D.current[B];if(e){const t=e.getBoundingClientRect().height;F.setValue(t)}O(),Z({index:B,shouldSavePosition:!1})}),[]);const X=r.useMemo((()=>{const e=e=>t=>{t&&(D.current[e]=t)},t=e=>{_[e]=new b.a.Value(0);return{opacity:_[e].interpolate({inputRange:[0,1],outputRange:[1,0]}),transform:[{rotate:_[e].interpolate({inputRange:[0,1],outputRange:["0deg","-2deg"]})}]}},o=[],a=m.a.reducedMotionEnabled?R.a:b.a.View;for(let i=0;i<s.length;i+=1){const c=s[i],l=m.a.reducedMotionEnabled?void 0:t(i),u=r.createElement(a,{key:i,ref:e(i),style:l},r.createElement(r.Fragment,{key:n(c)},N(c)));o.push(u)}return G.current=o.length,o}),[_,n,s,N]),Z=r.useCallback((({index:e,shouldSavePosition:t})=>{const n=(e=>{if(!e||!e.current)return new l.a(0,0);const t=c.a.findDOMNode(e.current),{height:n,top:r}=t.getBoundingClientRect();return new l.a(r,n)})(H);I({positions:[{id:s[e].entryId,rectangle:n}],viewport:n}),t&&J(e)}),[s,I,J]),K=r.useCallback((({index:e,intersectionRatio:t})=>{e===G.current-1&&t>=o.c&&W.scribeAction("reached_end"),e!==B&&1===t&&(T(e),Z({index:e,shouldSavePosition:!0}))}),[W,Z,G,B]),U=r.useCallback((e=>{var t;m.a.reducedMotionEnabled||b.a.spring(_[B],{toValue:1,bounciness:2}).start((function(){_[B].setValue(0)})),null===(t=H.current)||void 0===t||t.handleNextSlide(e)}),[_,H,B]),Y=r.useCallback((({next:e,previous:t})=>{t>e?W.scribeAction("scroll_left"):t<e&&W.scribeAction("scroll_right")}),[W]);if(r.useEffect((()=>{const e=D.current[B];if(!m.a.reducedMotionEnabled&&e){const t=e.getBoundingClientRect().height;F.setValue(t)}}),[z,B]),!s.length)return C();const q=r.createElement(i.a.Provider,{value:{handleNextSlide:U}},r.createElement(p.a,{childrenStyle:v.children,onScroll:Y,onVisibleRangeChange:K,ref:H,scrollToCenter:!0,style:m.a.reducedMotionEnabled?v.root:v.rootInheritHeight,visibleItemIndex:B,withAddedNavButtonClickArea:!0},X));return m.a.reducedMotionEnabled?q:r.createElement(b.a.View,{style:[v.root,{height:F}]},q)})),E=()=>null,v=h.a.create((e=>({root:{marginHorizontal:e.spaces.space4,marginBottom:e.componentDimensions.gutterVertical},rootInheritHeight:{height:"inherit"},children:{overflowY:"hidden",scrollSnapAlign:"center",scrollSnapStop:"always",width:"100%"}})));t.default=w},"X3+4":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("ERkP"),o=n("fs1G");const a=r.createContext({handleNextSlide:o.a})}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/ondemand.CarouselScroller.fac042a5.js.map