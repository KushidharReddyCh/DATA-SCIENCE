(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{"0E8n":function(e,t,a){"use strict";a.r(t),a.d(t,"SearchScreen",(function(){return Ve}));var r=a("KEM+"),s=a.n(r),n=a("ERkP"),c=a("HPNB"),o=a("es0u"),i=a("zh9S"),l=a("1YZw"),h=a("hqKg"),d=a("3IPs"),u=a("rxPX"),p=a("0KEI"),S=a("v4XE"),m=a("Hw0q");const y=(e,t)=>{const{location:a}=t;return a.query&&a.query.src&&"string"==typeof a.query.src?a.query.src:""},g=(e,t)=>{const{location:a,match:{params:r}}=t;return r&&r.unsafeHashtagQuery&&"string"==typeof r.unsafeHashtagQuery?`#${r.unsafeHashtagQuery}`:a&&a.query&&a.query.q&&Object(m.a)(a.query.q)||""},b=(e,t)=>{const{location:a}=t;return 0===a.pathname.indexOf("/search")?"search":"hashtag"},v=(e,t)=>!!(t.location.state||{}).searchFocused,_=Object(h.createSelector)(Object(m.b)("pf"),Object(m.b)("lf"),((e,t)=>({peopleFilter:e,locationFilter:t})));var E=Object(u.a)().propsFromState((()=>({searchFocused:v,query:g,querySrc:y,isQueryAlreadySaved:Object(h.createSelector)(g,S.d,((e,t)=>t.map((e=>e.query)).indexOf(e)>-1)),searchType:b,searchFilters:_,mode:d.k,savedSearches:S.d,vertical:Object(m.b)("vertical")}))).propsFromActions((()=>({addToast:l.b,createLocalApiErrorHandler:Object(p.createLocalApiErrorHandlerWithContextFactory)("SEARCH_SCREEN"),deleteSavedSearch:S.a,fetchSavedSearchesIfNeeded:S.b,saveSearch:S.c,scribeAction:i.c}))).withAnalytics({page:"search"}),f=a("sYRn"),C=a("3XMw"),w=a.n(C),T=a("oQhu"),k=a("2G3J"),O=a("yoO3"),I=a("7nmT"),x=a.n(I),R=a("5FtR"),q=a("Rp9C"),A=a("7JQg"),F=a("L7to");a("muX9");w.a.a8399d5b,w.a.ge893905;var L=a("mjJ+"),M=a("3A2y"),P="searchFilters-overflow",D="advancedSearch-overflow",H="searchSettings-overflow",j="saveSearch-overflow",U="deleteSavedSearch-overflow",B=a("+RfI"),z=a("VwDm"),V=a("M2x3"),N=a("g9w/"),Q=a("hiGS");const X=w.a.h1ef00db,$=w.a.aea62567,K=w.a.j622effd,J=w.a.h4912b5e,W=w.a.b9bc69ca;class G extends n.Component{constructor(...e){super(...e),s()(this,"_getActionItems",(()=>{const{deleteSavedSearch:e,isLoggedIn:t,isQueryAlreadySaved:a,isTwoColumn:r,location:s,saveSearch:n}=this.props,c=[];return r||c.push({Icon:B.a,testID:P,text:$,link:{pathname:"/i/search_filters",query:s.query}}),c.push({Icon:z.a,testID:D,text:K,link:{pathname:"/search-advanced",query:{...Object(M.a)(s.query,["q","src"])}}}),t&&(c.unshift({Icon:V.a,testID:H,text:X,link:"/settings/search"}),a?c.push({Icon:Q.a,isEmphasized:!0,testID:U,text:W,onClick:t=>{t(),e()}}):c.push({Icon:N.a,testID:j,text:J,onClick:e=>{e(),n()}})),c}))}render(){return n.createElement(L.a,{items:this._getActionItems(),onCloseRequested:this.props.onClose})}}var Z=G,Y=a("VS6U"),ee=a("LsPn"),te="searchBoxOverflowButton",ae=a("aITJ"),re=a("MWbm"),se=a("v6aA");const ne=w.a.f9d35b98,ce=w.a.ha925ad3,oe=w.a.h0a9931b,ie={customErrorHandler:()=>Object(l.b)({text:ce}),showToast:!0},le={customErrorHandler:()=>Object(l.b)({text:ne}),showToast:!0},he={customErrorHandler:()=>Object(l.b)({text:oe}),showToast:!0};var de=a("cHvH"),ue=a("6vad"),pe=a("k/OQ"),Se=a("8Lfv");const me=(e,t)=>"POP"===t.history.action,ye=(e,t)=>{var a;const{location:r}=t;return null==r||null===(a=r.state)||void 0===a?void 0:a.urtEndpointOptions};var ge=Object(u.a)().propsFromState((()=>({dataLookupId:d.j,isBackNavigation:me,searchMode:d.k,urtEndpointOptions:ye}))).propsFromActions((()=>({clearTimelineCache:({fetchOptions:e,module:t})=>Object(Se.a)(t,e),createLocalApiErrorHandler:Object(p.createLocalApiErrorHandlerWithContextFactory)("SEARCH_RESULTS_SCREEN"),googleAnalyticsPageView:i.a,scribePageImpression:i.d}))),be=a("s14A"),ve=a("dwig"),_e=a("3X8/"),Ee=a("0+qk"),fe=a("Ds5i"),Ce=a.n(fe),we=a("h2mu"),Te=a("i6OR"),ke=a("pQ3Z"),Oe=a.n(ke);const Ie=e=>e&&Ce()(e)?{defaultText:` ${e}`,positionCursorAtBeginning:!0}:void 0;class xe extends n.Component{constructor(...e){super(...e),s()(this,"_getFabState",(()=>{const{query:e}=this.props;return this._getMemoizedComposeLocationState(e)})),s()(this,"_getTimelineScribeNamespace",(()=>{const{scribeNamespace:e,searchMode:t,vertical:a}=this.props;return this._getMemoizedTimelineScribeNamespace(e,t,a)})),s()(this,"_getMemoizedTimelineScribeNamespace",Object(T.a)(((e,t,a)=>({...e,section:`search_filter_${t}${a===d.d.Topics?"_topics":""}`})))),s()(this,"_getMemoizedComposeLocationState",Object(T.a)(Ie))}componentDidMount(){const{googleAnalyticsPageView:e,isBackNavigation:t,scribePageImpression:a}=this.props;a(this._getTimelineScribeNamespace()),e(this._getTimelineScribeNamespace()),t||this._clearTimelineCache()}componentDidUpdate(e){const{isBackNavigation:t,query:a,querySrc:r,searchFilters:s,shouldClearTimelineCache:n}=this.props;t||!n&&e.query===a&&e.querySrc===r&&Oe()(e.searchFilters,s)||this._clearTimelineCache()}render(){const{query:e,querySrc:t,searchFilters:a,searchFocused:r,searchMode:s,urtEndpointOptions:c,vertical:o}=this.props,{featureSwitches:i,loggedInUserId:l}=this.context,h=!(!l||!i.isTrue("voice_rooms_search_results_page_audiospace_ring_enabled"));return n.createElement(ve.a,{component:be.a,fab:this._renderFloatingComposeButton(),shouldRenderFab:!r},n.createElement(A.b,{namespace:this._getTimelineScribeNamespace()},n.createElement(we.a,{fetchOptions:this._getFetchOptions(),query:e,querySrc:t,searchFilters:a,searchMode:s,urtEndpointOptions:c,vertical:o,withUserPresence:h})))}_renderFloatingComposeButton(){const{history:e}=this.props;return n.createElement(Ee.a,{getLocationState:this._getFabState,history:e})}_getFetchOptions(){const{dataLookupId:e,querySrc:t}=this.props;return{query_source:t,data_lookup_id:e}}_clearTimelineCache(){const{clearTimelineCache:e,createLocalApiErrorHandler:t,query:a,querySrc:r,searchFilters:s,searchMode:n,urtEndpointOptions:c}=this.props;e({module:Object(Te.b)({query:a,querySource:r,searchMode:n,searchFilters:s,urtEndpointOptions:c}),fetchOptions:this._getFetchOptions()}).catch(t(_e.a))}}s()(xe,"contextType",se.a);var Re=Object(A.c)({page:"search",section:"universal"})(ge(xe));const qe=w.a.eb0ecd1d,Ae=w.a.cceeb26b,Fe=w.a.i66136a9,Le=w.a.d601fc2f,Me=w.a.g2fd3205,Pe=w.a.ac4fb0f3,De=w.a.a9ae1e78,He=w.a.bb967f9e,je=w.a.aea62567,Ue=w.a.gfcfbf8b,Be=w.a.a4645d91,ze=[{type:d.c.Top,label:Fe},{type:d.c.Live,label:Le},{type:d.c.User,label:Me},{type:d.c.Image,label:Pe},{type:d.c.Video,label:He}];class Ve extends n.Component{constructor(...e){super(...e),s()(this,"_searchHomePageEnabled",this.context.featureSwitches.isTrue("responsive_web_search_home_page_enabled")),s()(this,"_loggedInUserId",this.context.loggedInUserId),s()(this,"state",{shouldShowDeleteSearchConfirmation:!1,shouldClearTimelineCache:!1}),s()(this,"_getScribeData",Object(T.a)(((e,t,a,r,s)=>({search_details:{...Object(d.f)({query:e,querySrc:t,searchFilters:a,modeValue:r,vertical:s})}})))),s()(this,"_renderRightControl",(({isTwoColumn:e,searchFocused:t})=>e||!t?n.createElement(k.a,{onClick:this._handleOverflowMenuClick,renderMenu:this._renderMenu,testID:te}):void 0)),s()(this,"_renderMenu",(e=>{const{history:t,isQueryAlreadySaved:a,location:r}=this.props,s=!!this.context.loggedInUserId;return n.createElement(de.a,null,(({windowWidth:o})=>{const i=c.a.isTwoColumnLayout(o);return n.createElement(Z,{deleteSavedSearch:this._onDeleteSavedSearchMenuClick,history:t,isLoggedIn:s,isQueryAlreadySaved:a,isTwoColumn:i,location:r,onClose:e,saveSearch:this._onSaveSearch})}))})),s()(this,"_onSaveSearch",(()=>{const{addToast:e,analytics:t,createLocalApiErrorHandler:a,query:r,saveSearch:s,savedSearches:n}=this.props,c=n.length;r&&s(r).then((()=>e({text:Ue}))).catch(a(c<25?ie:le));const o=q.a.forSavedSearchResult(r,c);t.scribe({element:"saved_search",action:"add",data:{items:[o]}})})),s()(this,"_handleOnDeleteSavedSearchConfirm",(()=>{const{addToast:e,analytics:t,createLocalApiErrorHandler:a,deleteSavedSearch:r,query:s,savedSearches:n}=this.props,c=n.findIndex((e=>e.query===s)),o=n[c];if(o){r(o.id_str).then((()=>e({text:Be}))).catch(a(he));const s=q.a.forSavedSearchResult(o.query,c);t.scribe({element:"saved_search",action:"delete",data:{items:[s]}}),this.setState({shouldShowDeleteSearchConfirmation:!1})}})),s()(this,"_handleOnDeleteSavedSearchCancel",(()=>{this.setState({shouldShowDeleteSearchConfirmation:!1})})),s()(this,"_onDeleteSavedSearchMenuClick",(()=>{this.setState({shouldShowDeleteSearchConfirmation:!0})})),s()(this,"_handleOverflowMenuClick",(()=>{const{analytics:e}=this.props;e.scribe({element:"overflow_menu",action:"click"})})),s()(this,"_renderPrimaryContent",(e=>{const{shouldShowDeleteSearchConfirmation:t}=this.state;return n.createElement(re.a,null,n.createElement(Re,e),t?n.createElement(f.a,{onCancel:this._handleOnDeleteSavedSearchCancel,onConfirm:this._handleOnDeleteSavedSearchConfirm}):null)})),s()(this,"_renderSidebarContent",(()=>{const{history:e,location:t,query:a}=this.props;return n.createElement(o.a,{withSearchBox:!1,withTrends:!!a},n.createElement(re.a,null,n.createElement(ue.b,{text:je}),n.createElement(F.b,{history:e,key:t.key,location:t})))})),s()(this,"_renderModesBar",(()=>{const{analytics:e}=this.props,{contextualScribeNamespace:t}=e,a=this._getModeLinks().map((a=>{const{isActive:r,label:s,link:n,modeType:c}=a;return{isActive:r,key:c,to:n,label:s,onClick:()=>{r()||e.scribe({...t,element:`search_filter_${c}`,action:"navigate"})}}}));return n.createElement(pe.a,{links:a})})),s()(this,"_getModeLinks",(()=>{const{mode:e,query:t,querySrc:a,searchFilters:r,searchType:s,vertical:n}=this.props;return this._getMemoizedModeLinks(t,a,s,r,e,n,((e,t)=>()=>d.i[t]===e))})),s()(this,"_getMemoizedModeLinks",Object(T.a)(((e,t,a,r,s,n,c)=>ze.map((o=>{const i=d.i[o.type];return{link:Object(d.e)({query:e,querySrc:t,modeValue:i,searchType:a,searchFilters:r,vertical:n}),isActive:c(i,s),label:o.label,modeType:o.type}}))))),s()(this,"_setSearchBoxRef",(e=>{this._searchBoxRef=e})),s()(this,"_handleSoftLeftClick",(()=>{const e=x.a.findDOMNode(this._searchBoxRef);e&&e instanceof window.HTMLElement&&e.querySelector("input").focus()})),s()(this,"_handleSearchBoxSubmit",((e,t,a=!1)=>{const{analytics:r}=this.props;r.scribe({section:"trendsplus",action:"search"}),a&&this.setState({shouldClearTimelineCache:!0},(()=>{this.setState({shouldClearTimelineCache:!1})}))}))}componentDidMount(){const{createLocalApiErrorHandler:e,fetchSavedSearchesIfNeeded:t}=this.props;t().catch(e({}))}render(){const{history:e,location:t,mode:a,query:r,querySrc:s,searchFilters:o,searchFocused:i,searchType:l,vertical:h}=this.props,{shouldClearTimelineCache:d}=this.state,u=!!r,p=u?Ae({query:r}):qe,S={history:e,location:t,query:r,querySrc:s,searchFilters:o,searchFocused:i,vertical:h,shouldClearTimelineCache:d},m=this._renderPrimaryContent(S),y={initialValue:r,mode:a,onSubmit:this._handleSearchBoxSubmit,searchFilters:o};return u?n.createElement(A.b,{data:this._getScribeData(r,s,o,a,h)},n.createElement(O.a,null,null,n.createElement(de.a,null,(({windowWidth:t})=>{const a=c.a.isTwoColumnLayout(t),s=this._renderRightControl({isTwoColumn:a,searchFocused:i});return n.createElement(Y.a,{backLocation:"/explore",composeOptions:Ie(r),documentTitle:p,history:e,primaryContent:m,rightControl:s,searchBoxOptions:y,searchBoxRef:this._setSearchBoxRef,secondaryBar:this._renderModesBar(),sidebarContent:this._renderSidebarContent(),title:r,withBottomLoginSignupBar:!0,withSearchBox:!0})})),ae.b.isKaiOS()&&n.createElement(ee.a,{leftText:De,onLeftClick:this._handleSoftLeftClick}))):this._searchHomePageEnabled&&!this._loggedInUserId?n.createElement(R.a,{to:"/"}):n.createElement(R.a,{to:"/explore"})}}s()(Ve,"contextType",se.a);const Ne=E(Ve);t.default=Ne},"3X8/":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a("k49u"),s=a("LVU8"),n=a("3XMw");const c=a.n(n).a.i1801686,o={[r.a.GenericForbidden]:{toast:Object(s.a)()},[r.a.InvalidRequestUrl]:{toast:{text:c,withClearButton:!0}},showToast:!0}},"4ZbN":function(e,t,a){"use strict";t.a={deleteRecentSearchesDialog:"deleteRecentSearchesDialog",deleteSavedSearchDialog:"deleteSavedSearchDialog",typeaheadEmptySearch:"typeaheadEmptySearch",typeaheadRecentSearchesHeader:"typeaheadRecentSearchesHeader",typeaheadRecentSearchesItem:"typeaheadRecentSearchesItem",typeaheadSavedSearchesContainer:"typeaheadSavedSearchesContainer",typeaheadSavedSearchesHeader:"typeaheadSavedSearchesHeader",typeaheadSavedSearchesItem:"typeaheadSavedSearchesItem"}},Ds5i:function(e,t,a){"use strict";var r=a("IGGJ");a("M+/F"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return!1;var t=(0,s.default)(e);return 1===t.length&&t[0]===e.slice(1)};var s=r(a("nmVb"));e.exports=t.default},L7to:function(e,t,a){"use strict";a.d(t,"a",(function(){return q}));var r=a("KEM+"),s=a.n(r),n=(a("MvUL"),a("ERkP")),c=a("3XMw"),o=a.n(c),i=a("RxYA");const l=Object.freeze({People:"People",Location:"Location"});var h="searchFiltersAdvancedSearch",d=a("MWbm"),u=a("Irs7"),p=a("v6aA"),S=a("fyvP"),m=a("rC8y"),y=a("rHpw"),g=a("3A2y"),b=a("Zkey");const v=o.a.j622effd,_=o.a.g2fd3205,E=o.a.defb4aa9,f=o.a.af293dc2,C=o.a.jaaa8984,w=o.a.i5045e73,T=o.a.h2388753,k="anyone",O="youFollow",I="anywhere",x="nearYou",R=[{label:_,name:l.People,options:[{label:E,value:k},{label:f,value:O}]},{label:C,name:l.Location,options:[{label:w,value:I},{label:T,value:x}]}];class q extends n.Component{constructor(e,t){super(e,t),s()(this,"_renderFilters",(()=>R.map(((e,t)=>n.createElement(d.a,{key:e.name,style:t>0&&A.paddingTop},n.createElement(S.a,{label:e.label,name:e.name,onChange:this._handleFilterChange,options:e.options,value:this._getCurrentValue(e.name)})))))),s()(this,"_getCurrentValue",(e=>{switch(e){case l.People:return this.state.peopleFilter;case l.Location:return this.state.locationFilter;default:return""}})),s()(this,"_handleFilterChange",((e,t)=>{const{loggedInUserId:a}=this.context,{location:{query:r}}=this.props;switch(e){case l.People:if(a){this.setState({peopleFilter:t});const e={pf:t===O?"on":void 0,lf:"on"===r.lf?r.lf:void 0};this._executeSearch(e,"people")}else this.setState({shouldShowLoginSheet:!0});break;case l.Location:{this.setState({locationFilter:t});const e={lf:t===x?"on":void 0,pf:"on"===r.pf?r.pf:void 0};this._executeSearch(e,"location");break}}})),s()(this,"_getAdvancedSearchLink",(()=>{const{location:e}=this.props;return{pathname:"/search-advanced",query:{...Object(g.a)(e.query,["q","src"])}}})),s()(this,"_handleFooterPress",(()=>{this._scribeAction("advanced_search")})),s()(this,"_scribeAction",(e=>{const{analytics:t}=this.props;t.scribe({element:e,action:"click"})})),s()(this,"_executeSearch",((e,t)=>{const{history:a,location:r}=this.props;this._scribeAction(t);const s=this._getPathname();a.replace({pathname:s,query:Object(b.a)({...r.query,...e})})})),s()(this,"_getPathname",(()=>{const{location:e}=this.props;if(e.pathname.includes("/hashtag/"))return e.pathname;if(e.state&&e.state.previousPath&&e.state.previousPath.includes("/hashtag/")&&"/search"!==e.pathname){const t=e.state.previousPath,a=t.indexOf("?")>-1?t.indexOf("?"):t.length;return t.substring(0,a)}return"/search"})),s()(this,"_handleHideLoginSheet",(()=>{this.setState({shouldShowLoginSheet:!1})}));const{loggedInUserId:a}=this.context,{location:r}=e,c=r.query,o=a&&c&&c.pf?O:k,i=c&&c.lf?x:I;this.state={peopleFilter:o,locationFilter:i,shouldShowLoginSheet:!1}}componentDidMount(){const{analytics:e}=this.props;e.scribe({action:"impression"})}render(){const{withBottomBorder:e}=this.props,{shouldShowLoginSheet:t}=this.state;return n.createElement(d.a,null,n.createElement(d.a,{style:A.content},this._renderFilters()),n.createElement(d.a,{style:e&&A.bottomBorder,testID:h},n.createElement(m.a,{link:this._getAdvancedSearchLink(),onPress:this._handleFooterPress,text:v})),t?n.createElement(i.a,{onClose:this._handleHideLoginSheet}):null)}}s()(q,"contextType",p.a),s()(q,"defaultProps",{withBottomBorder:!1});const A=y.a.create((e=>({content:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingBottom:e.spaces.space16},bottomBorder:{borderBottomColor:e.colors.gray50,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small},paddingTop:{paddingTop:e.spaces.space4}})));t.b=Object(u.a)(q,{page:"search_filters"})},PH3B:function(e,t,a){"use strict";var r=a("ezF+");var s=Object.freeze({Cell:"Cell",PreviewCard:"PreviewCard"}),n=a("XBtf");const c={loader:()=>Promise.all([a.e(0),a.e(327)]).then(a.bind(null,"a+ad")),loaderKey:"newsCellLoader",strategy:n.a.Critical},o={loader:()=>Promise.all([a.e(0),a.e(329)]).then(a.bind(null,"hX2d")),loaderKey:"newsPreviewCardLoader",strategy:n.a.Critical};t.a=r.c({selectDisplayType:e=>e.content.newsDisplayType,handlers:{[s.Cell]:c,[s.PreviewCard]:o}})},"g9w/":function(e,t,a){"use strict";var r=a("ERkP"),s=a("Lsrn"),n=a("k/Ka");const c=(e={})=>Object(n.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[s.a.root,e.style],viewBox:"0 0 24 24"},r.createElement("g",null,r.createElement("path",{d:"M16 11.25h-3.25V8c0-.414-.336-.75-.75-.75s-.75.336-.75.75v3.25H8c-.414 0-.75.336-.75.75s.336.75.75.75h3.25V16c0 .414.336.75.75.75s.75-.336.75-.75v-3.25H16c.414 0 .75-.336.75-.75s-.336-.75-.75-.75z"}),r.createElement("path",{d:"M12 22.75C6.072 22.75 1.25 17.928 1.25 12S6.072 1.25 12 1.25 22.75 6.072 22.75 12 17.928 22.75 12 22.75zm0-20C6.9 2.75 2.75 6.9 2.75 12S6.9 21.25 12 21.25s9.25-4.15 9.25-9.25S17.1 2.75 12 2.75z"})));c.metadata={width:24,height:24},t.a=c},h2mu:function(e,t,a){"use strict";var r=a("KEM+"),s=a.n(r),n=a("ERkP"),c=a("ezF+"),o=a("QIgh"),i=a("8UdT"),l=a("iu0J"),h=a("zgaL"),d=a("PH3B");var u={loader:()=>a.e(217).then(a.bind(null,"sc5C")),loaderKey:"relatedSearchDefaultLoader",strategy:a("XBtf").a.Critical};var p=c.e(u),S=Object.freeze({Expand:"Expand",Replace:"Replace",Suggest:"Suggest"}),m=a("VPAj"),y=a("zh9S"),g=a("X04g"),b=a("u3ZE"),v=a("MWbm"),_=a("t62R"),E=a("rHpw"),f=a("3XMw"),C=a.n(f);const w=C.a.je5502ea,T=C.a.bc4628a0,k=e=>n.createElement(_.b,{weight:"bold"},e);class O extends n.PureComponent{render(){const{suggestion:e}=this.props,t={pathname:"/search",query:{q:e,src:b.a.SpellingSuggestionClick}};return n.createElement(_.b,{link:t,style:R.root},n.createElement(C.a.I18NFormatMessage,{$i18n:"hce48b8a"},k(e)))}}class I extends n.PureComponent{render(){const{onClick:e,original:t,suggestion:a}=this.props,r={pathname:"/search",query:{q:a,src:b.a.SpellingCorrectionClick}};return n.createElement(v.a,{style:R.root},n.createElement(_.b,{weight:"bold"},T({suggestion:a})),n.createElement(_.b,{link:r,onClick:e},n.createElement(C.a.I18NFormatMessage,{$i18n:"h36fe5c9"},k(t))))}}class x extends n.PureComponent{render(){const{onClick:e,original:t,suggestion:a}=this.props,r={pathname:"/search",query:{q:t,src:b.a.SpellingExpansionRevertClick}};return n.createElement(v.a,{style:R.root},n.createElement(_.b,{weight:"bold"},w({suggestion:a})),n.createElement(_.b,{link:r,onClick:e},n.createElement(C.a.I18NFormatMessage,{$i18n:"h36fe5c9"},k(t))))}}const R=E.a.create((e=>({root:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical}}))),q=e=>t=>({item_type:g.a.ItemType.SEARCH,name:`spelling_${e}`,description:t.content.spellingResult.text,position:0}),A=e=>({items:[{search_details:{query:e.content.originalQuery},query_details:{query_item:e.content.spellingResult.text}}]}),F=({actions:{scribe:e},scribeData:t,scribeNamespace:a})=>e({...a,action:"impression"},t),L=c.g({bindActions:()=>({scribe:y.c}),component:x,divider:{top:!0,bottom:!0},getScribeDataItem:q("expansion"),selectData:Object(m.a)({}),createProps:({actions:{scribe:e},entry:t,scribeNamespace:a})=>{const{content:{originalQuery:r,spellingResult:s}}=t;return{onClick:()=>e({...a,element:"expansion_revert",action:"search"},A(t)),original:r,suggestion:s.text}},onImpression:F}),M=c.g({bindActions:()=>({scribe:y.c}),component:I,divider:{top:!0,bottom:!0},getScribeDataItem:q("replacement"),selectData:Object(m.a)({}),createProps:({actions:{scribe:e},entry:t,scribeNamespace:a})=>{const{content:{originalQuery:r,spellingResult:s}}=t;return{onClick:()=>e({...a,element:"replacement_revert",action:"search"},A(t)),original:r,suggestion:s.text}},onImpression:F}),P=c.g({component:O,divider:{top:!0,bottom:!0},getScribeDataItem:q("suggestion"),selectData:Object(m.a)({}),createProps:({entry:e})=>{const{content:{spellingResult:t}}=e;return{suggestion:t.text}},onImpression:F});var D=c.c({selectDisplayType:e=>e.content.spellingAction,handlers:{[S.Expand]:L,[S.Replace]:M,[S.Suggest]:P}});const H=({shouldStoreTypeaheadItem:e})=>({[i.b.News]:d.a,[i.b.EventSummary]:Object(l.a)({errorContext:"SEARCH_SCREEN",shouldStoreTypeaheadItem:e}),[i.b.RelatedSearch]:p,[i.b.FollowSearch]:c.e(c.a()),[i.b.FollowSearchAction]:c.e(c.a()),[i.b.Place]:c.e(c.a()),[i.b.MomentAnnotation]:h.a,[i.b.Spelling]:D});var j=a("3X8/"),U=a("oQhu"),B=a("EUHl"),z=a("7BdX"),V=a("fTQJ"),N=a("i6OR"),Q=a("FIs5"),X=a("v6aA");const $=C.a.c09de2d4,K=n.createElement(C.a.I18NFormatMessage,{$i18n:"f0089e9c"},n.createElement(_.b,{link:"/settings/search"},C.a.d2918e88)),J=C.a.ae111c99;class W extends n.Component{constructor(...e){super(...e),s()(this,"_shouldStoreTypeaheadItem",(e=>{switch(e){case g.a.ItemType.USER:return this.context.featureSwitches.isTrue("responsive_web_recent_searches_users_enabled");case g.a.ItemType.TOPIC:return this.context.featureSwitches.isTrue("responsive_web_recent_searches_topics_enabled");case g.a.ItemType.EVENT:return this.context.featureSwitches.isTrue("responsive_web_recent_searches_events_enabled");default:return!1}})),s()(this,"_getModule",(()=>{const{query:e,querySrc:t,searchFilters:a,searchMode:r,urtEndpointOptions:s,vertical:n}=this.props;return this._getMemoizedModule(e,t,r,a,n,s)})),s()(this,"_renderEmptyTimeline",(()=>{const{emptyStateComponent:e,query:t}=this.props;return e||n.createElement(Q.a,{header:J({query:t}),message:K})})),s()(this,"_getMemoizedModule",Object(U.a)(((e,t,a,r,s,n)=>Object(N.b)({query:e,searchMode:a,querySource:t,searchFilters:r,vertical:s,urtEndpointOptions:n})))),s()(this,"_getMemoizedEntryConfiguration",Object(U.a)((e=>(({shouldStoreTypeaheadItem:e,withUserPresence:t})=>({...Object(o.a)({tweetDismissable:!0,displayBlocked:!0,shouldStoreTypeaheadItem:e,withUserPresence:t}),...H({shouldStoreTypeaheadItem:e})}))({shouldStoreTypeaheadItem:this._shouldStoreTypeaheadItem,withUserPresence:e}))))}render(){return n.createElement(V.a,{apiErrorHandlerMap:j.a,entryConfiguration:this._getMemoizedEntryConfiguration(this.props.withUserPresence),fetchOptions:this.props.fetchOptions,module:this._getModule(),newTweetsPillMode:B.a.CLIENT,prerollDisplayLocation:z.c.SEARCH_TWEETS,renderEmptyState:this._renderEmptyTimeline,title:$,withUserPresence:this.props.withUserPresence})}}s()(W,"contextType",X.a);t.a=W},hiGS:function(e,t,a){"use strict";var r=a("ERkP"),s=a("Lsrn"),n=a("k/Ka");const c=(e={})=>Object(n.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[s.a.root,e.style],viewBox:"0 0 24 24"},r.createElement("g",null,r.createElement("path",{d:"M20.746 5.236h-3.75V4.25c0-1.24-1.01-2.25-2.25-2.25h-5.5c-1.24 0-2.25 1.01-2.25 2.25v.986h-3.75c-.414 0-.75.336-.75.75s.336.75.75.75h.368l1.583 13.262c.216 1.193 1.31 2.027 2.658 2.027h8.282c1.35 0 2.442-.834 2.664-2.072l1.577-13.217h.368c.414 0 .75-.336.75-.75s-.335-.75-.75-.75zM8.496 4.25c0-.413.337-.75.75-.75h5.5c.413 0 .75.337.75.75v.986h-7V4.25zm8.822 15.48c-.1.55-.664.795-1.18.795H7.854c-.517 0-1.083-.246-1.175-.75L5.126 6.735h13.74L17.32 19.732z"}),r.createElement("path",{d:"M10 17.75c.414 0 .75-.336.75-.75v-7c0-.414-.336-.75-.75-.75s-.75.336-.75.75v7c0 .414.336.75.75.75zm4 0c.414 0 .75-.336.75-.75v-7c0-.414-.336-.75-.75-.75s-.75.336-.75.75v7c0 .414.336.75.75.75z"})));c.metadata={width:24,height:24},t.a=c},i6OR:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var r=a("u3ZE"),s=a("3IPs"),n=a("ZNT5"),c=a("eR3e");const o="search-",i=" near:me",l={[s.c.Top]:{},[s.c.Live]:{tweet_search_mode:s.c.Live},[s.c.User]:{result_filter:s.c.User},[s.c.Image]:{result_filter:s.c.Image},[s.c.Video]:{result_filter:s.c.Video}},h=e=>(e=>e===r.a.SpellingCorrectionRevertClick||e===r.a.SpellingExpansionRevertClick)(e)?"-revert":"",d=()=>(e,t)=>{e(Object(c.t)(t()).filter((e=>0===e.indexOf(o))).map((e=>Object(c.g)(e))))};t.b=({query:e,searchMode:t=s.c.Top,querySource:a,searchFilters:r,vertical:c,urtEndpointOptions:o})=>{const d=h(a),u=r&&r.peopleFilter?"searcher_follows":void 0,p=u?"-pf":"",S=r&&r.locationFilter&&!e.includes(i)?`${e} near:me`:e,m=`search-${S}-${t}${d}${p}`;return Object(n.a)({timelineId:m,getEndpoint:e=>e.URT.fetchSearch,getEndpointParams:e=>Object.assign({},null==o?void 0:o.requestParams,{q:S,social_filter:u,vertical:c},l[t],e),context:"FETCH_SEARCH_TIMELINE",perfKey:"search",staleIntervalMs:t===s.c.Live?5e3:void 0,timelineType:"search"})}},kix0:function(e,t,a){"use strict";a.r(t),a.d(t,"SearchFiltersScreen",(function(){return u}));var r=a("97Jx"),s=a.n(r),n=a("ERkP"),c=a("jHSc"),o=a("3XMw"),i=a.n(o),l=a("L7to"),h=a("Irs7");const d=i.a.aea62567;function u(e){const{history:t,location:a}=e;return n.createElement(c.b,{documentTitle:d,history:t,title:d},n.createElement(l.a,s()({},e,{key:a.key,withBottomBorder:!0})))}t.default=Object(h.a)(u,{page:"search_filters"})},nmVb:function(e,t,a){"use strict";var r=a("IGGJ");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=[],a=(0,s.default)(e),r=0;r<a.length;r++)t.push(a[r].hashtag);return t};var s=r(a("yyPN"));e.exports=t.default},sYRn:function(e,t,a){"use strict";var r=a("ERkP"),s=a("eb3s"),n=a("3XMw"),c=a.n(n),o=a("4ZbN");const i=c.a.hffea05c,l=c.a.j037e373,h=c.a.d96cf7cd;t.a=({onCancel:e,onConfirm:t})=>r.createElement(s.a,{confirmButtonLabel:h,confirmButtonType:"destructiveFilled",headline:i,onCancel:e,onConfirm:t,testID:o.a.deleteSavedSearchDialog,text:l})},u3ZE:function(e,t,a){"use strict";t.a={AdvancedSearchPage:"advanced_search_page",CashtagClick:"cashtag_click",HashtagClick:"hashtag_click",PromotedTrendClick:"promoted_trend_click",RecentSearchClick:"recent_search_click",SavedSearchClick:"saved_search_click",RelatedQueryClick:"related_query_click",SpellingCorrectionClick:"spelling_correction_click",SpellingCorrectionRevertClick:"spelling_suggestion_revert_click",SpellingExpansionClick:"spelling_expansion_click",SpellingExpansionRevertClick:"spelling_expansion_revert_click",SpellingSuggestionClick:"spelling_suggestion_click",TrendClick:"trend_click",TrendView:"trend_view",TypeaheadClick:"typeahead_click",Typed:"typed_query",TweetDetailQuoteTweet:"tdqt"}},v4XE:function(e,t,a){"use strict";a.d(t,"d",(function(){return S})),a.d(t,"c",(function(){return m})),a.d(t,"a",(function(){return y})),a.d(t,"b",(function(){return g}));var r=a("oEOe"),s=a("kGix"),n=a("Ssj5"),c=a("SrIh"),o=a("RqPI");const i="savedSearches",l={fetchStatus:s.a.NONE,savedSearches:[]},h=Object.freeze({REQUEST:"rweb/savedSearches/FETCH_SAVED_SEARCHES_REQUEST",SUCCESS:"rweb/savedSearches/FETCH_SAVED_SEARCHES_SUCCESS",FAILURE:"rweb/savedSearches/FETCH_SAVED_SEARCHES_FAILURE"}),d=Object.freeze({REQUEST:"rweb/savedSearches/SAVE_SEARCH_REQUEST",SUCCESS:"rweb/savedSearches/SAVE_SEARCH_SUCCESS",FAILURE:"rweb/savedSearches/SAVE_SEARCH_FAILURE"}),u=Object.freeze({REQUEST:"rweb/savedSearches/DELETE_SAVED_SEARCH_REQUEST",SUCCESS:"rweb/savedSearches/DELETE_SAVED_SEARCH_SUCCESS",FAILURE:"rweb/savedSearches/DELETE_SAVED_SEARCH_FAILURE"});function p(e=l,t){switch(t.type){case h.SUCCESS:{const a=t.payload,r=Array.isArray(a);return r||Object(c.a)("Saved search results are not type array",{extra:{savedSearchResultsType:typeof a}}),{...e,fetchStatus:s.a.LOADED,savedSearches:r&&a?a:[]}}case h.FAILURE:return{...e,fetchStatus:s.a.FAILED};case d.SUCCESS:return{...e,savedSearches:t.payload?[...e.savedSearches,t.payload]:e.savedSearches};case u.SUCCESS:return t.payload?{...e,savedSearches:e.savedSearches.filter((e=>e.id_str!==t.payload.id_str))}:e;default:return e}}n.a.register({[i]:p});const S=e=>e.savedSearches.savedSearches,m=e=>(t,a,{api:s})=>Object(r.b)(t,{request:s.SavedSearches.create,params:{query:e}})({actionTypes:d,context:"SAVE_SEARCH"}),y=e=>(t,a,{api:s})=>Object(r.b)(t,{request:s.SavedSearches.destroy,params:{id:e}})({actionTypes:u,context:"DELETE_SAVED_SEARCH"}),g=()=>(e,t,{api:a})=>{const n=t();if(!Object(o.l)(n))return Promise.resolve();return(e=>e.savedSearches.fetchStatus)(n)===s.a.LOADED?Promise.resolve():e(((e,t,{api:a})=>Object(r.b)(e,{request:a.SavedSearches.fetch,params:{}})({actionTypes:h,context:"FETCH_SAVED_SEARCHES"})))}},zgaL:function(e,t,a){"use strict";var r=a("ezF+");var s={loader:()=>a.e(211).then(a.bind(null,"tFiq")),loaderKey:"momentAnnoationLoader",strategy:a("XBtf").a.Critical};t.a=r.e(s)}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/bundle.Search.237adcf5.js.map